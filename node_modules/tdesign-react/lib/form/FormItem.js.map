{"version":3,"file":"FormItem.js","sources":["../../src/form/FormItem.tsx"],"sourcesContent":["import React, { forwardRef, ReactNode, useState, useImperativeHandle, useEffect, useRef, useMemo } from 'react';\nimport isObject from 'lodash/isObject';\nimport isString from 'lodash/isString';\nimport get from 'lodash/get';\nimport merge from 'lodash/merge';\nimport isFunction from 'lodash/isFunction';\nimport {\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  CloseCircleFilledIcon as TdCloseCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n} from 'tdesign-icons-react';\nimport { calcFieldValue } from './utils';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport type {\n  TdFormItemProps,\n  ValueType,\n  FormItemValidateMessage,\n  NamePath,\n  FormInstanceFunctions,\n  FormRule,\n} from './type';\nimport { StyledProps } from '../common';\nimport { HOOK_MARK } from './hooks/useForm';\nimport { validate as validateModal, parseMessage } from './formModel';\nimport { useFormContext, useFormListContext } from './FormContext';\nimport useFormItemStyle from './hooks/useFormItemStyle';\nimport { formItemDefaultProps } from './defaultProps';\nimport { ctrlKeyMap, getDefaultInitialData } from './useInitialData';\nimport { ValidateStatus } from './const';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nexport interface FormItemProps extends TdFormItemProps, StyledProps {\n  children?: React.ReactNode | ((form: FormInstanceFunctions) => React.ReactElement);\n}\n\nexport interface FormItemInstance {\n  name?: NamePath;\n  isUpdated?: boolean;\n  value?: any;\n  getValue?: Function;\n  setValue?: Function;\n  setField?: Function;\n  validate?: Function;\n  resetField?: Function;\n  setValidateMessage?: Function;\n  resetValidate?: Function;\n  validateOnly?: Function;\n  isFormList?: boolean;\n}\n\nconst FormItem = forwardRef<FormItemInstance, FormItemProps>((originalProps, ref) => {\n  const { classPrefix, form: globalFormConfig } = useConfig();\n  const { CheckCircleFilledIcon, CloseCircleFilledIcon, ErrorCircleFilledIcon } = useGlobalIcon({\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n    CloseCircleFilledIcon: TdCloseCircleFilledIcon,\n    ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n  });\n  const {\n    form,\n    colon,\n    layout,\n    initialData: FromContextInitialData,\n    requiredMark: requiredMarkFromContext,\n    labelAlign: labelAlignFromContext,\n    labelWidth: labelWidthFromContext,\n    showErrorMessage: showErrorMessageFromContext,\n    disabled: disabledFromContext,\n    resetType: resetTypeFromContext,\n    rules: rulesFromContext,\n    statusIcon: statusIconFromContext,\n    errorMessage,\n    formMapRef,\n    onFormItemValueChange,\n  } = useFormContext();\n\n  const {\n    name: formListName,\n    rules: formListRules,\n    formListMapRef,\n    initialData: FormListInitialData,\n  } = useFormListContext();\n\n  const props = useDefaultProps<FormItemProps>(originalProps, formItemDefaultProps);\n\n  const {\n    children,\n    style,\n    label,\n    name,\n    status,\n    tips,\n    help,\n    valueFormat,\n    initialData,\n    className,\n    shouldUpdate,\n    successBorder,\n    statusIcon = statusIconFromContext,\n    rules: innerRules = getInnerRules(name, rulesFromContext, formListName, formListRules),\n    labelWidth = labelWidthFromContext,\n    labelAlign = labelAlignFromContext,\n    requiredMark = requiredMarkFromContext,\n  } = props;\n\n  const [, forceUpdate] = useState({}); // custom render state\n  const [freeShowErrorMessage, setFreeShowErrorMessage] = useState(undefined);\n  const [errorList, setErrorList] = useState([]);\n  const [successList, setSuccessList] = useState([]);\n  const [verifyStatus, setVerifyStatus] = useState('validating');\n  const [resetValidating, setResetValidating] = useState(false);\n  const [needResetField, setNeedResetField] = useState(false);\n  const [formValue, setFormValue] = useState(\n    getDefaultInitialData({\n      name,\n      formListName,\n      children,\n      initialData,\n      FromContextInitialData,\n      FormListInitialData,\n    }),\n  );\n\n  const formItemRef = useRef<FormItemInstance>(); // 当前 formItem 实例\n  const innerFormItemsRef = useRef([]);\n  const shouldEmitChangeRef = useRef(false); // onChange 冒泡开关\n  const isUpdatedRef = useRef(false); // 校验开关\n  const shouldValidate = useRef(false); // 校验开关\n  const valueRef = useRef(formValue); // 当前最新值\n  const errorListMapRef = useRef(new Map());\n  const snakeName = []\n    .concat(formListName, name)\n    .filter((item) => item !== undefined)\n    .join('_'); // 转化 name\n\n  const errorMessages = useMemo(() => errorMessage ?? globalFormConfig.errorMessage, [errorMessage, globalFormConfig]);\n\n  const showErrorMessage = useMemo(() => {\n    if (typeof freeShowErrorMessage === 'boolean') return freeShowErrorMessage;\n    if (typeof props.showErrorMessage === 'boolean') return props.showErrorMessage;\n    return showErrorMessageFromContext;\n  }, [freeShowErrorMessage, props.showErrorMessage, showErrorMessageFromContext]);\n\n  const { formItemClass, formItemLabelClass, contentClass, labelStyle, contentStyle, helpNode, extraNode } =\n    useFormItemStyle({\n      className,\n      help,\n      tips,\n      snakeName,\n      status,\n      successBorder,\n      errorList,\n      successList,\n      layout,\n      verifyStatus,\n      colon,\n      label,\n      labelWidth,\n      labelAlign,\n      requiredMark,\n      showErrorMessage,\n      innerRules,\n    });\n\n  // 更新 form 表单字段\n  const updateFormValue = (newVal: any, validate = true, shouldEmitChange = false) => {\n    const { setPrevStore } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    setPrevStore?.(form?.getFieldsValue?.(true));\n\n    shouldEmitChangeRef.current = shouldEmitChange;\n    isUpdatedRef.current = true;\n    shouldValidate.current = validate;\n    valueRef.current = newVal;\n    setFormValue(newVal);\n  };\n\n  // 初始化 rules，最终以 formItem 上优先级最高\n  function getInnerRules(name, formRules, formListName, formListRules): FormRule[] {\n    if (Array.isArray(name)) {\n      return get(formRules?.[formListName], name) || get(formListRules, name) || [];\n    }\n    return formRules?.[name] || formListRules || [];\n  }\n\n  const renderSuffixIcon = () => {\n    if (statusIcon === false) return null;\n\n    const resultIcon = (iconSlot: ReactNode) => <span className={`${classPrefix}-form__status`}>{iconSlot}</span>;\n\n    const getDefaultIcon = () => {\n      const iconMap = {\n        success: <CheckCircleFilledIcon size=\"25px\" />,\n        error: <CloseCircleFilledIcon size=\"25px\" />,\n        warning: <ErrorCircleFilledIcon size=\"25px\" />,\n      };\n      if (verifyStatus === ValidateStatus.SUCCESS) {\n        return resultIcon(iconMap[verifyStatus]);\n      }\n      if (errorList && errorList[0]) {\n        const type = errorList[0].type || 'error';\n        return resultIcon(iconMap[type]);\n      }\n      return null;\n    };\n\n    if (React.isValidElement(statusIcon)) {\n      // @ts-ignore\n      return resultIcon(React.cloneElement(statusIcon, { style: { color: 'unset' }, ...statusIcon.props }));\n    }\n    if (statusIcon === true) {\n      return getDefaultIcon();\n    }\n\n    return null;\n  };\n\n  async function analysisValidateResult(trigger) {\n    const result = {\n      successList: [],\n      errorList: [],\n      rules: [],\n      resultList: [],\n      allowSetValue: false,\n    };\n    result.rules = trigger === 'all' ? innerRules : innerRules.filter((item) => (item.trigger || 'change') === trigger);\n    if (!result.rules?.length) {\n      setResetValidating(false);\n      return result;\n    }\n    result.allowSetValue = true;\n    result.resultList = await validateModal(formValue, result.rules);\n    result.errorList = result.resultList\n      .filter((item) => item.result !== true)\n      .map((item) => {\n        Object.keys(item).forEach((key) => {\n          if (!item.message && errorMessages[key]) {\n            // eslint-disable-next-line\n            item.message = parseMessage(errorMessages[key], {\n              validate: item[key],\n              name: isString(label) ? label : String(name),\n            });\n          }\n        });\n        return item;\n      });\n    // 仅有自定义校验方法才会存在 successList\n    result.successList = result.resultList.filter(\n      (item) => item.result === true && item.message && item.type === 'success',\n    );\n\n    return result;\n  }\n\n  async function validate(trigger = 'all', showErrorMessage?: boolean) {\n    if (innerFormItemsRef.current.length) {\n      return innerFormItemsRef.current.map((innerFormItem) => innerFormItem?.validate(trigger, showErrorMessage));\n    }\n\n    setResetValidating(true);\n    // undefined | boolean\n    setFreeShowErrorMessage(showErrorMessage);\n    const {\n      successList: innerSuccessList,\n      errorList: innerErrorList,\n      rules: validateRules,\n      resultList,\n      allowSetValue,\n    } = await analysisValidateResult(trigger);\n\n    // 缓存不同 trigger 下的错误信息 all 包含了所有场景需过滤\n    if (innerErrorList.length && trigger !== 'all') {\n      errorListMapRef.current.set(trigger, innerErrorList);\n    } else {\n      errorListMapRef.current.delete(trigger);\n    }\n\n    // all 校验无错误信息时清空所有错误缓存\n    if (!innerErrorList.length && trigger === 'all') {\n      errorListMapRef.current.clear();\n    }\n\n    const cacheErrorList = [...errorListMapRef.current.values()].flat();\n\n    if (allowSetValue) {\n      setSuccessList(innerSuccessList);\n      setErrorList(cacheErrorList.length ? cacheErrorList : innerErrorList);\n    }\n    // 根据校验结果设置校验状态\n    if (validateRules.length) {\n      let status = ValidateStatus.SUCCESS;\n      if (innerErrorList.length || cacheErrorList.length) {\n        status = innerErrorList?.[0]?.type || cacheErrorList?.[0]?.type || ValidateStatus.ERROR;\n      }\n      setVerifyStatus(status);\n    } else {\n      setVerifyStatus(ValidateStatus.VALIDATING);\n    }\n    // 重置处理\n    if (needResetField) {\n      resetHandler();\n    }\n    setResetValidating(false);\n\n    return {\n      [snakeName]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  async function validateOnly(trigger = 'all') {\n    const { errorList: innerErrorList, resultList } = await analysisValidateResult(trigger);\n\n    return {\n      [snakeName]: innerErrorList.length === 0 ? true : resultList,\n    };\n  }\n\n  // blur 下触发校验\n  function handleItemBlur() {\n    const filterRules = innerRules.filter((item) => item.trigger === 'blur');\n\n    filterRules.length && validate('blur');\n  }\n\n  function getResetValue(resetType: string): ValueType {\n    if (resetType === 'initial') {\n      return getDefaultInitialData({\n        name,\n        formListName,\n        children,\n        initialData,\n        FromContextInitialData,\n        FormListInitialData,\n      });\n    }\n\n    let emptyValue: ValueType;\n    if (Array.isArray(formValue)) {\n      emptyValue = [];\n    } else if (isObject(formValue)) {\n      emptyValue = {};\n    } else if (isString(formValue)) {\n      emptyValue = '';\n    }\n\n    return emptyValue;\n  }\n\n  function resetField(type: string) {\n    if (typeof name === 'undefined') return;\n\n    const resetType = type || resetTypeFromContext;\n    const resetValue = getResetValue(resetType);\n    // reset 不校验\n    updateFormValue(resetValue, false);\n\n    if (resetValidating) {\n      setNeedResetField(true);\n    } else {\n      resetHandler();\n    }\n  }\n\n  function resetHandler() {\n    setNeedResetField(false);\n    setErrorList([]);\n    setSuccessList([]);\n    setVerifyStatus(ValidateStatus.VALIDATING);\n  }\n\n  function setField(field: { value?: string; status?: ValidateStatus; validateMessage?: FormItemValidateMessage }) {\n    const { value, status, validateMessage } = field;\n    if (typeof status !== 'undefined') {\n      setErrorList(validateMessage ? [validateMessage] : []);\n      setSuccessList(validateMessage ? [validateMessage] : []);\n      setNeedResetField(false);\n      setVerifyStatus(status);\n    }\n    if (typeof value !== 'undefined') {\n      // 手动设置 status 则不需要校验 交给用户判断\n      updateFormValue(value, typeof status === 'undefined' ? true : false);\n    }\n  }\n\n  function setValidateMessage(validateMessage: FormItemValidateMessage[]) {\n    if (!validateMessage || !Array.isArray(validateMessage)) return;\n    if (validateMessage.length === 0) {\n      setErrorList([]);\n      setVerifyStatus(ValidateStatus.SUCCESS);\n      return;\n    }\n    setErrorList(validateMessage);\n    const status = validateMessage?.[0]?.type || ValidateStatus.ERROR;\n    setVerifyStatus(status);\n  }\n\n  useEffect(() => {\n    // 注册自定义更新回调\n    if (!shouldUpdate || !form) return;\n\n    const { getPrevStore, registerWatch } = form?.getInternalHooks?.(HOOK_MARK) || {};\n    const cancelRegister = registerWatch?.(() => {\n      const currStore = form?.getFieldsValue?.(true) || {};\n      let updateFlag = shouldUpdate as boolean;\n      if (isFunction(shouldUpdate)) updateFlag = shouldUpdate(getPrevStore?.(), currStore);\n\n      if (updateFlag) forceUpdate({});\n    });\n\n    return cancelRegister;\n  }, [shouldUpdate, form]);\n\n  useEffect(() => {\n    // 记录填写 name 属性 formItem\n    if (typeof name === 'undefined') return;\n\n    // formList 下特殊处理\n    if (formListName) {\n      formListMapRef.current.set(name, formItemRef);\n      return () => {\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        formListMapRef.current.delete(name);\n      };\n    }\n\n    if (!formMapRef) return;\n    formMapRef.current.set(name, formItemRef);\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      formMapRef.current.delete(name);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [name, formListName]);\n\n  useEffect(() => {\n    // value 变化通知 watch 事件\n    form?.getInternalHooks?.(HOOK_MARK)?.notifyWatch?.(name);\n\n    // 控制是否需要校验\n    if (!shouldValidate.current) return;\n\n    // value change event\n    if (typeof name !== 'undefined' && shouldEmitChangeRef.current) {\n      if (formListName) {\n        // 整理 formItem 的值\n        const formListValue = merge([], calcFieldValue(name, formValue));\n        // 整理 formList 的值\n        const fieldValue = calcFieldValue(formListName, formListValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      } else {\n        const fieldValue = calcFieldValue(name, formValue);\n        onFormItemValueChange?.({ ...fieldValue });\n      }\n    }\n\n    const filterRules = innerRules.filter((item) => (item.trigger || 'change') === 'change');\n\n    filterRules.length && validate('change');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formValue, name]);\n\n  // 暴露 ref 实例方法\n  const instance: FormItemInstance = {\n    name,\n    value: formValue,\n    isUpdated: isUpdatedRef.current,\n    getValue: () => valueRef.current,\n    setValue: (newVal: any) => updateFormValue(newVal),\n    setField,\n    validate,\n    validateOnly,\n    resetField,\n    setValidateMessage,\n    resetValidate: resetHandler,\n  };\n  useImperativeHandle(ref, (): FormItemInstance => instance);\n  useImperativeHandle(formItemRef, (): FormItemInstance => instance);\n\n  // 传入 form 实例支持自定义渲染\n  if (isFunction(children)) return children(form);\n\n  return (\n    <div className={formItemClass} style={style}>\n      {label && (\n        <div className={formItemLabelClass} style={labelStyle}>\n          <label htmlFor={props?.for}>{label}</label>\n        </div>\n      )}\n      <div className={contentClass()} style={contentStyle}>\n        <div className={`${classPrefix}-form__controls-content`}>\n          {React.Children.map(children, (child, index) => {\n            if (!child) return null;\n\n            let ctrlKey = 'value';\n            if (React.isValidElement(child)) {\n              if (child.type === FormItem) {\n                return React.cloneElement(child, {\n                  // @ts-ignore\n                  ref: (el) => {\n                    if (!el) return;\n                    innerFormItemsRef.current[index] = el;\n                  },\n                });\n              }\n              if (typeof child.type === 'object') {\n                ctrlKey = ctrlKeyMap.get(child.type) || 'value';\n              }\n              return React.cloneElement(child, {\n                disabled: disabledFromContext,\n                ...child.props,\n                [ctrlKey]: formValue,\n                onChange: (value: any, ...args: any[]) => {\n                  const newValue = valueFormat ? valueFormat(value) : value;\n                  updateFormValue(newValue, true, true);\n                  child.props.onChange?.call?.(null, value, ...args);\n                },\n                onBlur: (value: any, ...args: any[]) => {\n                  handleItemBlur();\n                  child.props.onBlur?.call?.(null, value, ...args);\n                },\n              });\n            }\n            return child;\n          })}\n          {renderSuffixIcon()}\n        </div>\n        {helpNode}\n        {extraNode}\n      </div>\n    </div>\n  );\n});\n\nFormItem.displayName = 'FormItem';\n\nexport default FormItem;\n"],"names":["FormItem","forwardRef","originalProps","ref","_useConfig","useConfig","classPrefix","globalFormConfig","form","_useGlobalIcon","useGlobalIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","CloseCircleFilledIcon","TdCloseCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","_useFormContext","useFormContext","colon","layout","FromContextInitialData","initialData","requiredMarkFromContext","requiredMark","labelAlignFromContext","labelAlign","labelWidthFromContext","labelWidth","showErrorMessageFromContext","showErrorMessage","disabledFromContext","disabled","resetTypeFromContext","resetType","rulesFromContext","rules","statusIconFromContext","statusIcon","errorMessage","formMapRef","onFormItemValueChange","_useFormListContext","useFormListContext","formListName","name","formListRules","formListMapRef","FormListInitialData","props","useDefaultProps","formItemDefaultProps","children","style","label","status","tips","help","valueFormat","className","shouldUpdate","successBorder","_props$statusIcon","_props$rules","innerRules","getInnerRules","_props$labelWidth","_props$labelAlign","_props$requiredMark","_useState","useState","_useState2","_slicedToArray","forceUpdate","_useState3","_useState4","freeShowErrorMessage","setFreeShowErrorMessage","_useState5","_useState6","errorList","setErrorList","_useState7","_useState8","successList","setSuccessList","_useState9","_useState10","verifyStatus","setVerifyStatus","_useState11","_useState12","resetValidating","setResetValidating","_useState13","_useState14","needResetField","setNeedResetField","_useState15","getDefaultInitialData","_useState16","formValue","setFormValue","formItemRef","useRef","innerFormItemsRef","shouldEmitChangeRef","isUpdatedRef","shouldValidate","valueRef","errorListMapRef","Map","snakeName","concat","filter","item","join","errorMessages","useMemo","_useFormItemStyle","useFormItemStyle","formItemClass","formItemLabelClass","contentClass","labelStyle","contentStyle","helpNode","extraNode","updateFormValue","newVal","_form$getInternalHook","_form$getFieldsValue","validate","arguments","length","undefined","shouldEmitChange","_ref","getInternalHooks","call","HOOK_MARK","setPrevStore","getFieldsValue","current","formRules","Array","isArray","get","renderSuffixIcon","resultIcon","iconSlot","React","createElement","getDefaultIcon","iconMap","success","size","error","warning","ValidateStatus","SUCCESS","type","isValidElement","cloneElement","_objectSpread","color","analysisValidateResult","_callee","trigger","_result$rules","result","_regeneratorRuntime","wrap","_callee$","_context","prev","next","resultList","allowSetValue","abrupt","validateModal","sent","map","Object","keys","forEach","key","message","parseMessage","isString","String","stop","_analysisValidateResult","apply","_validate","_asyncToGenerator","mark","_callee2","showErrorMessage2","_yield$analysisValida","innerSuccessList","innerErrorList","validateRules","cacheErrorList","status2","_innerErrorList$","_cacheErrorList$","_args2","_callee2$","_context2","innerFormItem","set","clear","_toConsumableArray","values","flat","ERROR","VALIDATING","resetHandler","_defineProperty","validateOnly","_validateOnly","_callee3","_yield$analysisValida2","_args3","_callee3$","_context3","handleItemBlur","filterRules","getResetValue","emptyValue","isObject","resetField","resetValue","setField","field","value","validateMessage","setValidateMessage","_validateMessage$","useEffect","_form$getInternalHook2","_ref2","getPrevStore","registerWatch","cancelRegister","_form$getFieldsValue2","currStore","updateFlag","isFunction","_form$getInternalHook3","_form$getInternalHook4","notifyWatch","formListValue","merge","calcFieldValue","fieldValue","instance","isUpdated","getValue","setValue","resetValidate","useImperativeHandle","htmlFor","Children","child","index","ctrlKey","el","_typeof","ctrlKeyMap","onChange","_child$props$onChange","_child$props$onChange2","newValue","_len","args","_key","onBlur","_child$props$onBlur","_child$props$onBlur$c","_len2","_key2","displayName"],"mappings":"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"}