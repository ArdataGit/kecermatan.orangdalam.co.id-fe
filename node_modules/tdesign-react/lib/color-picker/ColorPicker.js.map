{"version":3,"file":"ColorPicker.js","sources":["../../src/color-picker/ColorPicker.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport { Popup, PopupProps } from '../popup';\nimport { ColorPickerProps, TdColorContext } from './interface';\nimport useClassName from './hooks/useClassNames';\nimport useControlled from '../hooks/useControlled';\nimport ColorTrigger from './components/trigger';\nimport ColorPanel from './components/panel/index';\nimport { colorPickerDefaultProps } from './defaultProps';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nconst ColorPicker: React.FC<ColorPickerProps> = (props) => {\n  const baseClassName = useClassName();\n  const { popupProps, disabled, borderless, inputProps, onChange, colorModes, ...rest } =\n    useDefaultProps<ColorPickerProps>(props, colorPickerDefaultProps);\n  const { overlayClassName, overlayInnerStyle = {}, ...restPopupProps } = popupProps || {};\n\n  const [innerValue, setInnerValue] = useControlled(props, 'value', onChange);\n  const triggerRef = useRef<HTMLDivElement>();\n  const colorPanelRef = useRef();\n\n  const popProps: PopupProps = {\n    placement: 'bottom-left',\n    expandAnimation: true,\n    trigger: 'click',\n    ...restPopupProps,\n    overlayClassName: [baseClassName, overlayClassName],\n    overlayInnerStyle: {\n      padding: 0,\n      ...overlayInnerStyle,\n    },\n  };\n\n  return (\n    <Popup\n      {...popProps}\n      content={\n        !disabled && (\n          <ColorPanel\n            {...rest}\n            disabled={disabled}\n            value={innerValue}\n            colorModes={colorModes}\n            onChange={(value: string, context: TdColorContext) => setInnerValue(value, context)}\n            ref={colorPanelRef}\n          />\n        )\n      }\n    >\n      <div className={`${baseClassName}__trigger`} ref={triggerRef}>\n        <ColorTrigger\n          disabled={disabled}\n          borderless={borderless}\n          inputProps={inputProps}\n          value={innerValue}\n          onChange={setInnerValue}\n        />\n      </div>\n    </Popup>\n  );\n};\n\nColorPicker.displayName = 'ColorPicker';\n\nexport default React.memo(ColorPicker);\n"],"names":["ColorPicker","props","baseClassName","useClassName","_useDefaultProps","useDefaultProps","colorPickerDefaultProps","popupProps","disabled","borderless","inputProps","onChange","colorModes","rest","_objectWithoutProperties","_excluded","_ref","overlayClassName","overlayInnerStyle","_ref$overlayInnerStyl","restPopupProps","_excluded2","_useControlled","useControlled","_useControlled2","_slicedToArray","innerValue","setInnerValue","triggerRef","useRef","colorPanelRef","popProps","_objectSpread","placement","expandAnimation","trigger","padding","React","createElement","Popup","content","ColorPanel","value","context","ref","className","ColorTrigger","displayName","memo"],"mappings":"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"}