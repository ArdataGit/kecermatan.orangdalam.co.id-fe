{"version":3,"file":"trigger.js","sources":["../../../src/color-picker/components/trigger.tsx"],"sourcesContent":["import React from 'react';\nimport classNames from 'classnames';\nimport { Input } from '../../input';\nimport ColorLib from '../../_common/js/color-picker/color';\nimport { TdColorPickerProps } from '..';\nimport useClassName from '../hooks/useClassNames';\nimport useControlled from '../../hooks/useControlled';\nimport { TdColorContext } from '../interface';\n\nexport interface ColorTriggerProps extends Pick<TdColorPickerProps, 'disabled' | 'inputProps' | 'borderless'> {\n  value?: string;\n  onChange?: (v?: string, context?: TdColorContext) => {};\n}\n\nconst ColorPickerTrigger = (props: ColorTriggerProps) => {\n  const baseClassName = useClassName();\n  const { disabled = false, borderless = false, inputProps = { autoWidth: true } } = props;\n\n  const [value, setValue] = useControlled(props, 'value', props.onChange);\n\n  const handleChange = (input: string, ctx: any) => {\n    if (ColorLib.isValid(input)) {\n      setValue(input, ctx);\n    }\n  };\n\n  return (\n    <div className={`${baseClassName}__trigger--default`}>\n      <Input\n        borderless={borderless}\n        {...inputProps}\n        value={value}\n        disabled={disabled}\n        label={\n          <div className={classNames(`${baseClassName}__trigger--default__color`, `${baseClassName}--bg-alpha`)}>\n            <span className={'color-inner'} style={{ background: value }}></span>\n          </div>\n        }\n        onBlur={handleChange}\n        onChange={(v: string) => setValue(v)}\n      />\n    </div>\n  );\n};\n\nexport default React.memo(ColorPickerTrigger);\n"],"names":["ColorPickerTrigger","props","baseClassName","useClassName","_props$disabled","disabled","_props$borderless","borderless","_props$inputProps","inputProps","autoWidth","_useControlled","useControlled","onChange","_useControlled2","_slicedToArray","value","setValue","handleChange","input","ctx","ColorLib","isValid","React","createElement","className","Input","_objectSpread","label","classNames","concat","style","background","onBlur","v","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,IAAMA,kBAAA,GAAqB,SAArBA,kBAAAA,CAAsBC,KAA6B,EAAA;AACvD,EAAA,IAAMC,gBAAgBC,aAAa,EAAA,CAAA;AAC7B,EAAA,IAAAC,eAAA,GAA6EH,KAAA,CAA3EI,QAAW;AAAXA,IAAAA,QAAW,GAAAD,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAAA,eAAA;IAAAE,iBAAA,GAAgEL,KAAA,CAAzDM,UAAa;AAAbA,IAAAA,UAAa,GAAAD,iBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,GAAAA,iBAAA;IAAAE,iBAAA,GAA4CP,KAAA,CAArCQ;IAAAA,mCAAa,KAAA,CAAA,GAAA;AAAEC,MAAAA,SAAA,EAAW,IAAA;AAAK,KAAA,GAAAF,iBAAA,CAAA;EAEvE,IAAAG,cAAA,GAAoBC,cAAcX,KAAO,EAAA,OAAA,EAASA,MAAMY,QAAQ,CAAA;IAAAC,eAAA,GAAAC,cAAA,CAAAJ,cAAA,EAAA,CAAA,CAAA;AAA/DK,IAAAA;AAAOC,IAAAA,QAAQ,GAAAH,eAAA,CAAA,CAAA,CAAA,CAAA;EAEhB,IAAAI,YAAA,GAAe,SAAfA,YAAAA,CAAgBC,KAAA,EAAeC,GAAa,EAAA;AAC5C,IAAA,IAAAC,KAAA,CAASC,OAAQ,CAAAH,KAAK,CAAG,EAAA;AAC3BF,MAAAA,QAAA,CAASE,OAAOC,GAAG,CAAA,CAAA;AACrB,KAAA;GACF,CAAA;AAEA,EAAA,sBACGG,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;IAAIC,qBAAcvB,aAAA,EAAA,oBAAA,CAAA;GAAA,iBAChBqB,KAAA,CAAAC,aAAA,CAAAE,KAAA,EAAAC,aAAA,CAAAA,aAAA,CAAA;AACCpB,IAAAA,UAAA,EAAAA,UAAAA;AAAA,GAAA,EACIE,UAAA,CAAA,EAAA,EAAA,EAAA;AACJO,IAAAA,KAAA,EAAAA,KAAA;AACAX,IAAAA,QAAA,EAAAA,QAAA;AACAuB,IAAAA,sBACGL,KAAA,CAAAC,aAAA,CAAA,KAAA,EAAA;MAAIC,SAAW,EAAAI,UAAA,CAAA,EAAA,CAAAC,MAAA,CAAc5B,aAAA,EAAA4B,2BAAAA,CAAAA,EAAAA,EAAAA,CAAAA,MAAA,CAA6C5B,aAAyB,EAAA,YAAA,CAAA,CAAA;AAAA,KAAA,iBACjGqB,KAAA,CAAAC,aAAA,CAAA,MAAA,EAAA;AAAKC,MAAAA,SAAW,EAAA,aAAA;AAAeM,MAAAA,KAAA,EAAO;AAAEC,QAAAA,UAAA,EAAYhB,KAAAA;AAAM,OAAA;AAAA,KAAG,CAChE,CAAA;AAEFiB,IAAAA,MAAQ,EAAAf,YAAA;IACRL,QAAU,EAAA,SAAAA,QAAAA,CAACqB,CAAc,EAAA;MAAA,OAAAjB,QAAA,CAASiB,CAAC,CAAA,CAAA;AAAA,KAAA;AAAA,GAAA,CACrC,CACF,CAAA,CAAA;AAEJ,CAAA,CAAA;AAEA,mBAAA,aAAeX,KAAA,CAAMY,KAAKnC,kBAAkB,CAAA;;;;"}