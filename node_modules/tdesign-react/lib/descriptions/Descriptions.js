/**
 * tdesign v1.7.1
 * (c) 2024 tdesign
 * @license MIT
 */

import { _ as _defineProperty } from '../_chunks/dep-9d06ffd4.js';
import React from 'react';
import classNames from 'classnames';
import { i as isArray_1 } from '../_chunks/dep-933fa6aa.js';
import { _ as _assignValue } from '../_chunks/dep-560d448e.js';
import { _ as _copyObject } from '../_chunks/dep-8e2ab2c9.js';
import { _ as _createAssigner } from '../_chunks/dep-24ea85d3.js';
import { i as isArrayLike_1 } from '../_chunks/dep-7b4b8732.js';
import { a as _isPrototype } from '../_chunks/dep-0064325f.js';
import { k as keys_1 } from '../_chunks/dep-9823fa03.js';
import { descriptionsDefaultProps, descriptionItemDefaultProps } from './defaultProps.js';
import useDefaultProps from '../hooks/useDefaultProps.js';
import useConfig from '../hooks/useConfig.js';
import useCommonClassName from '../hooks/useCommonClassName.js';
import { LayoutEnum } from '../common.js';
import { DescriptionsContext } from './DescriptionsContext.js';
import DescriptionsItem from './DescriptionsItem.js';
import Row from './Row.js';
import '../_chunks/dep-d5964765.js';
import '../_chunks/dep-44c20420.js';
import '../_chunks/dep-f3c9f0b1.js';
import '../_chunks/dep-f3f3df31.js';
import '../_chunks/dep-9d4210ce.js';
import '../_chunks/dep-bee1cff5.js';
import '../_chunks/dep-3317a9f1.js';
import '../_chunks/dep-33f13f9c.js';
import '../_chunks/dep-5f0ec823.js';
import '../_chunks/dep-a1b2bf89.js';
import '../_chunks/dep-d5932774.js';
import '../_chunks/dep-f8d0dc23.js';
import '../_chunks/dep-434ba20b.js';
import '../_chunks/dep-88ade432.js';
import '../_chunks/dep-cf209156.js';
import '../_chunks/dep-dc6bd1bf.js';
import '../_chunks/dep-ae0cbd35.js';
import '../_chunks/dep-a5a9bbb3.js';
import '../config-provider/ConfigContext.js';
import '../_common/js/global-config/locale/zh_CN.js';
import '../_chunks/dep-7ba5fe7d.js';
import 'dayjs';
import '../_common/js/global-config/default-config.js';

var assignValue = _assignValue,
  copyObject = _copyObject,
  createAssigner = _createAssigner,
  isArrayLike = isArrayLike_1,
  isPrototype = _isPrototype,
  keys = keys_1;

/** Used for built-in method references. */
var objectProto = Object.prototype;

/** Used to check objects for own properties. */
var hasOwnProperty = objectProto.hasOwnProperty;

/**
 * Assigns own enumerable string keyed properties of source objects to the
 * destination object. Source objects are applied from left to right.
 * Subsequent sources overwrite property assignments of previous sources.
 *
 * **Note:** This method mutates `object` and is loosely based on
 * [`Object.assign`](https://mdn.io/Object/assign).
 *
 * @static
 * @memberOf _
 * @since 0.10.0
 * @category Object
 * @param {Object} object The destination object.
 * @param {...Object} [sources] The source objects.
 * @returns {Object} Returns `object`.
 * @see _.assignIn
 * @example
 *
 * function Foo() {
 *   this.a = 1;
 * }
 *
 * function Bar() {
 *   this.c = 3;
 * }
 *
 * Foo.prototype.b = 2;
 * Bar.prototype.d = 4;
 *
 * _.assign({ 'a': 0 }, new Foo, new Bar);
 * // => { 'a': 1, 'c': 3 }
 */
var assign = createAssigner(function (object, source) {
  if (isPrototype(source) || isArrayLike(source)) {
    copyObject(source, keys(source), object);
    return;
  }
  for (var key in source) {
    if (hasOwnProperty.call(source, key)) {
      assignValue(object, key, source[key]);
    }
  }
});
var assign_1 = assign;

var Descriptions = function Descriptions(DescriptionsProps) {
  var props = useDefaultProps(DescriptionsProps, descriptionsDefaultProps);
  var className = props.className,
    style = props.style,
    title = props.title,
    bordered = props.bordered,
    column = props.column,
    layout = props.layout,
    rowItems = props.items,
    children = props.children;
  var _useConfig = useConfig(),
    classPrefix = _useConfig.classPrefix;
  var COMPONENT_NAME = "".concat(classPrefix, "-descriptions");
  var _useCommonClassName = useCommonClassName(),
    SIZE = _useCommonClassName.SIZE;
  var getRows = function getRows() {
    var items = [];
    if (isArray_1(rowItems)) {
      items = rowItems.map(function (item) {
        var _assign = assign_1({}, descriptionItemDefaultProps, item),
          span = _assign.span;
        return {
          label: item.label,
          content: item.content,
          span: span
        };
      });
    } else {
      var childrenList = React.Children.toArray(children).filter(function (child) {
        return child.type.displayName === DescriptionsItem.displayName;
      });
      if (childrenList.length !== 0) {
        items = childrenList.map(function (_ref) {
          var _child$content;
          var child = _ref.props;
          var _assign2 = assign_1({}, descriptionItemDefaultProps, child),
            span = _assign2.span;
          return {
            label: child.label,
            content: (_child$content = child.content) !== null && _child$content !== void 0 ? _child$content : child.children,
            span: span
          };
        });
      }
    }
    if (layout === LayoutEnum.VERTICAL) {
      return [items];
    }
    var temp = [];
    var reset = column;
    var res = [];
    items.forEach(function (item, index) {
      var span = item.span;
      if (reset >= span) {
        temp.push(item);
        reset -= span;
      } else {
        res.push(temp);
        temp = [item];
        reset = column - span;
      }
      if (index === items.length - 1) {
        Reflect.set(item, "span", span + reset);
        res.push(temp);
      }
    });
    return res;
  };
  var renderHeader = function renderHeader() {
    return title ? /* @__PURE__ */React.createElement("div", {
      className: "".concat(COMPONENT_NAME, "__header")
    }, title) : "";
  };
  var renderBody = function renderBody() {
    var tableClass = ["".concat(COMPONENT_NAME, "__body"), SIZE[props.size], _defineProperty({}, "".concat(COMPONENT_NAME, "__body--border"), bordered)];
    return /* @__PURE__ */React.createElement("table", {
      className: classNames(tableClass)
    }, /* @__PURE__ */React.createElement("tbody", null, getRows().map(function (row, i) {
      return /* @__PURE__ */React.createElement(Row, {
        row: row,
        key: i
      });
    })));
  };
  return /* @__PURE__ */React.createElement(DescriptionsContext.Provider, {
    value: props
  }, /* @__PURE__ */React.createElement("div", {
    className: classNames(className, COMPONENT_NAME),
    style: style
  }, renderHeader(), renderBody()));
};
Descriptions.displayName = "Descriptions";
Descriptions.DescriptionsItem = DescriptionsItem;

export { Descriptions as default };
//# sourceMappingURL=Descriptions.js.map
