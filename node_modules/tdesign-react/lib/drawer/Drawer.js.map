{"version":3,"file":"Drawer.js","sources":["../../src/drawer/Drawer.tsx"],"sourcesContent":["import React, { forwardRef, useState, useEffect, useImperativeHandle, useRef, useMemo } from 'react';\nimport classnames from 'classnames';\nimport { CSSTransition } from 'react-transition-group';\nimport { CloseIcon as TdCloseIcon } from 'tdesign-icons-react';\n\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TdDrawerProps, DrawerEventSource } from './type';\nimport { StyledProps } from '../common';\nimport Button from '../button';\nimport useConfig from '../hooks/useConfig';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport { drawerDefaultProps } from './defaultProps';\nimport useDrag from './hooks/useDrag';\nimport Portal from '../common/Portal';\nimport useLockStyle from './hooks/useLockStyle';\nimport useDefaultProps from '../hooks/useDefaultProps';\n\nexport const CloseTriggerType: { [key: string]: DrawerEventSource } = {\n  CLICK_OVERLAY: 'overlay',\n  CLICK_CLOSE_BTN: 'close-btn',\n  CLICK_CANCEL_BTN: 'cancel',\n  KEYDOWN_ESC: 'esc',\n};\n\nexport interface DrawerProps extends TdDrawerProps, StyledProps {}\n\nconst Drawer = forwardRef<HTMLDivElement, DrawerProps>((originalProps, ref) => {\n  const props = useDefaultProps<DrawerProps>(originalProps, drawerDefaultProps);\n  const {\n    className,\n    style,\n    visible,\n    attach,\n    showOverlay,\n    size: propsSize,\n    placement,\n    onCancel,\n    onConfirm,\n    onClose,\n    onCloseBtnClick,\n    onOverlayClick,\n    onEscKeydown,\n    showInAttachedElement,\n    closeOnOverlayClick,\n    closeOnEscKeydown,\n    children,\n    header,\n    body,\n    footer,\n    closeBtn,\n    cancelBtn,\n    confirmBtn,\n    zIndex,\n    destroyOnClose,\n    sizeDraggable,\n    forceRender,\n  } = props;\n\n  // 国际化文本初始化\n  const [local, t] = useLocaleReceiver('drawer');\n  const { CloseIcon } = useGlobalIcon({ CloseIcon: TdCloseIcon });\n  const size = propsSize ?? local.size;\n  const confirmText = t(local.confirm);\n  const cancelText = t(local.cancel);\n\n  const { classPrefix } = useConfig();\n  const maskRef = useRef<HTMLDivElement>();\n  const containerRef = useRef<HTMLDivElement>();\n  const drawerWrapperRef = useRef<HTMLElement>(); // 即最终的 attach dom，默认为 document.body\n  const prefixCls = `${classPrefix}-drawer`;\n\n  const closeIcon = React.isValidElement(closeBtn) ? closeBtn : <CloseIcon />;\n  const { dragSizeValue, enableDrag, draggableLineStyles } = useDrag(placement, sizeDraggable);\n  const [animationStart, setAnimationStart] = useState(visible);\n\n  const sizeValue = useMemo(() => {\n    const sizeMap = { small: '300px', medium: '500px', large: '760px' };\n    return dragSizeValue || sizeMap[size] || size;\n  }, [dragSizeValue, size]);\n\n  useLockStyle({ ...props, sizeValue, drawerWrapper: drawerWrapperRef.current });\n  useImperativeHandle(ref, () => containerRef.current);\n\n  useEffect(() => {\n    if (!visible) return;\n    // 聚焦到 Drawer 最外层元素即 containerRef.current，KeyDown 事件才有效。\n    containerRef.current?.focus?.();\n  }, [visible]);\n\n  function onMaskClick(e: React.MouseEvent<HTMLDivElement>) {\n    onOverlayClick?.({ e });\n    (closeOnOverlayClick ?? local.closeOnOverlayClick) && onClose?.({ e, trigger: CloseTriggerType.CLICK_OVERLAY });\n  }\n  function onClickCloseBtn(e: React.MouseEvent<HTMLDivElement>) {\n    onCloseBtnClick?.({ e });\n    onClose?.({ e, trigger: CloseTriggerType.CLICK_CLOSE_BTN });\n  }\n  function onKeyDownEsc(e: React.KeyboardEvent<HTMLDivElement>) {\n    if (e.key !== 'Escape') return;\n\n    onEscKeydown?.({ e });\n    (closeOnEscKeydown ?? local.closeOnEscKeydown) && onClose?.({ e, trigger: CloseTriggerType.KEYDOWN_ESC });\n  }\n  function onCancelClick(e: React.MouseEvent<HTMLButtonElement>) {\n    onCancel?.({ e });\n    onClose?.({ e, trigger: CloseTriggerType.CLICK_CANCEL_BTN });\n  }\n  function onConfirmClick(e: React.MouseEvent<HTMLButtonElement>) {\n    onConfirm?.({ e });\n  }\n\n  const contentWrapperStyle = useMemo(\n    () => ({\n      transform: visible && animationStart ? 'translateX(0)' : undefined,\n      width: ['left', 'right'].includes(placement) ? sizeValue : '',\n      height: ['top', 'bottom'].includes(placement) ? sizeValue : '',\n    }),\n    [visible, placement, sizeValue, animationStart],\n  );\n\n  function getFooter(): React.ReactNode {\n    if (footer !== true) return footer;\n\n    const defaultCancelBtn = (\n      <Button theme=\"default\" onClick={onCancelClick} className={`${prefixCls}__cancel`}>\n        {cancelBtn && typeof cancelBtn === 'string' ? cancelBtn : cancelText}\n      </Button>\n    );\n\n    const defaultConfirmBtn = (\n      <Button theme=\"primary\" onClick={onConfirmClick} className={`${prefixCls}__confirm`}>\n        {confirmBtn && typeof confirmBtn === 'string' ? confirmBtn : confirmText}\n      </Button>\n    );\n\n    const renderCancelBtn = cancelBtn && React.isValidElement(cancelBtn) ? cancelBtn : defaultCancelBtn;\n    const renderConfirmBtn = confirmBtn && React.isValidElement(confirmBtn) ? confirmBtn : defaultConfirmBtn;\n\n    const footerStyle = {\n      display: 'flex',\n      justifyContent: placement === 'right' ? 'flex-start' : 'flex-end',\n    };\n\n    return (\n      <div style={footerStyle}>\n        {placement === 'right' && renderConfirmBtn}\n        {renderCancelBtn}\n        {placement !== 'right' && renderConfirmBtn}\n      </div>\n    );\n  }\n\n  const renderOverlay = showOverlay && (\n    <CSSTransition in={visible} timeout={200} classNames={`${prefixCls}-fade`} nodeRef={maskRef}>\n      <div ref={maskRef} className={`${prefixCls}__mask`} onClick={onMaskClick} />\n    </CSSTransition>\n  );\n  const renderCloseBtn = closeBtn && (\n    <div onClick={onClickCloseBtn} className={`${prefixCls}__close-btn`}>\n      {closeIcon}\n    </div>\n  );\n  const renderHeader = header && <div className={`${prefixCls}__header`}>{header}</div>;\n  const renderBody = <div className={`${prefixCls}__body`}>{body || children}</div>;\n  const renderFooter = footer && <div className={`${prefixCls}__footer`}>{getFooter()}</div>;\n\n  return (\n    <CSSTransition\n      in={visible}\n      nodeRef={drawerWrapperRef}\n      mountOnEnter={!forceRender}\n      unmountOnExit={destroyOnClose}\n      timeout={{ appear: 10, enter: 10, exit: 300 }}\n      onEntered={() => setAnimationStart(true)}\n      onExited={() => setAnimationStart(false)}\n    >\n      <Portal attach={attach} ref={drawerWrapperRef}>\n        <div\n          ref={containerRef}\n          className={classnames(prefixCls, className, `${prefixCls}--${placement}`, {\n            [`${prefixCls}--open`]: visible,\n            [`${prefixCls}--attach`]: showInAttachedElement,\n            [`${prefixCls}--without-mask`]: !showOverlay,\n          })}\n          style={{ zIndex, ...style }}\n          tabIndex={-1} // https://stackoverflow.com/questions/43503964/onkeydown-event-not-working-on-divs-in-react\n          onKeyDown={onKeyDownEsc}\n        >\n          {renderOverlay}\n          <div\n            className={classnames(`${prefixCls}__content-wrapper`, `${prefixCls}__content-wrapper--${placement}`)}\n            style={contentWrapperStyle}\n          >\n            {renderCloseBtn}\n            {renderHeader}\n            {renderBody}\n            {renderFooter}\n            {sizeDraggable && <div style={draggableLineStyles} onMouseDown={enableDrag}></div>}\n          </div>\n        </div>\n      </Portal>\n    </CSSTransition>\n  );\n});\n\nDrawer.displayName = 'Drawer';\n\nexport default Drawer;\n"],"names":["CloseTriggerType","CLICK_OVERLAY","CLICK_CLOSE_BTN","CLICK_CANCEL_BTN","KEYDOWN_ESC","Drawer","forwardRef","originalProps","ref","props","useDefaultProps","drawerDefaultProps","className","style","visible","attach","showOverlay","propsSize","size","placement","onCancel","onConfirm","onClose","onCloseBtnClick","onOverlayClick","onEscKeydown","showInAttachedElement","closeOnOverlayClick","closeOnEscKeydown","children","header","body","footer","closeBtn","cancelBtn","confirmBtn","zIndex","destroyOnClose","sizeDraggable","forceRender","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","_slicedToArray","local","t","_useGlobalIcon","useGlobalIcon","CloseIcon","TdCloseIcon","confirmText","confirm","cancelText","cancel","_useConfig","useConfig","classPrefix","maskRef","useRef","containerRef","drawerWrapperRef","prefixCls","closeIcon","React","isValidElement","_useDrag","useDrag","dragSizeValue","enableDrag","draggableLineStyles","_useState","useState","_useState2","animationStart","setAnimationStart","sizeValue","useMemo","sizeMap","small","medium","large","useLockStyle","_objectSpread","drawerWrapper","current","useImperativeHandle","useEffect","_containerRef$current","_containerRef$current2","focus","call","onMaskClick","e","trigger","onClickCloseBtn","onKeyDownEsc","key","onCancelClick","onConfirmClick","contentWrapperStyle","transform","width","includes","height","getFooter","defaultCancelBtn","createElement","Button","theme","onClick","defaultConfirmBtn","renderCancelBtn","renderConfirmBtn","footerStyle","display","justifyContent","renderOverlay","CSSTransition","timeout","classNames","nodeRef","renderCloseBtn","renderHeader","renderBody","renderFooter","mountOnEnter","unmountOnExit","appear","enter","exit","onEntered","onExited","Portal","classnames","concat","_defineProperty","tabIndex","onKeyDown","onMouseDown","displayName"],"mappings":"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"}