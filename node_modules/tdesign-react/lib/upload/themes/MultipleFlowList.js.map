{"version":3,"file":"MultipleFlowList.js","sources":["../../../src/upload/themes/MultipleFlowList.tsx"],"sourcesContent":["import React, { MouseEvent, useMemo, useState } from 'react';\nimport classNames from 'classnames';\nimport isFunction from 'lodash/isFunction';\nimport isObject from 'lodash/isObject';\nimport {\n  BrowseIcon as TdBrowseIcon,\n  DeleteIcon as TdDeleteIcon,\n  CheckCircleFilledIcon as TdCheckCircleFilledIcon,\n  ErrorCircleFilledIcon as TdErrorCircleFilledIcon,\n  TimeFilledIcon as TdTimeFilledIcon,\n  FileExcelIcon as TdFileExcelIcon,\n  FilePdfIcon as TdFilePdfIcon,\n  FileWordIcon as TdFileWordIcon,\n  FilePowerpointIcon as TdFilePowerpointIcon,\n  FileIcon as TdFileIcon,\n  VideoIcon as TdVideoIcon,\n} from 'tdesign-icons-react';\nimport useGlobalIcon from '../../hooks/useGlobalIcon';\nimport ImageViewer from '../../image-viewer';\nimport { CommonDisplayFileProps } from '../interface';\nimport TButton, { ButtonProps } from '../../button';\nimport { UploadFile, TdUploadProps } from '../type';\nimport useDrag, { UploadDragEvents } from '../hooks/useDrag';\nimport {\n  abridgeName,\n  returnFileSize,\n  IMAGE_REGEXP,\n  FILE_PDF_REGEXP,\n  FILE_EXCEL_REGEXP,\n  FILE_WORD_REGEXP,\n  FILE_PPT_REGEXP,\n  VIDEO_REGEXP,\n} from '../../_common/js/upload/utils';\nimport TLoading from '../../loading';\nimport Link from '../../link';\nimport parseTNode from '../../_util/parseTNode';\nimport Image from '../../image';\n\nexport interface ImageFlowListProps extends CommonDisplayFileProps {\n  uploadFiles?: (toFiles?: UploadFile[]) => void;\n  cancelUpload?: (context: { e: MouseEvent<HTMLElement>; file?: UploadFile }) => void;\n  dragEvents: UploadDragEvents;\n  disabled?: boolean;\n  isBatchUpload?: boolean;\n  draggable?: boolean;\n  showThumbnail?: boolean;\n  onPreview?: TdUploadProps['onPreview'];\n  uploadButton?: TdUploadProps['uploadButton'];\n  cancelUploadButton?: TdUploadProps['cancelUploadButton'];\n  showImageFileName?: boolean;\n}\n\nconst ImageFlowList = (props: ImageFlowListProps) => {\n  const { draggable = true, accept, showThumbnail, cancelUploadButton, uploadButton, onPreview } = props;\n  // locale 已经在 useUpload 中统一处理优先级\n  const { locale, uploading, disabled, displayFiles, classPrefix } = props;\n  const uploadPrefix = `${classPrefix}-upload`;\n\n  const [currentPreviewFile, setCurrentPreviewFile] = useState<UploadFile[]>([]);\n  const [previewIndex, setPreviewIndex] = useState(0);\n\n  const {\n    BrowseIcon,\n    DeleteIcon,\n    CheckCircleFilledIcon,\n    ErrorCircleFilledIcon,\n    TimeFilledIcon,\n    FileExcelIcon,\n    FilePdfIcon,\n    FileWordIcon,\n    FilePowerpointIcon,\n    FileIcon,\n    VideoIcon,\n  } = useGlobalIcon({\n    BrowseIcon: TdBrowseIcon,\n    DeleteIcon: TdDeleteIcon,\n    CheckCircleFilledIcon: TdCheckCircleFilledIcon,\n    ErrorCircleFilledIcon: TdErrorCircleFilledIcon,\n    TimeFilledIcon: TdTimeFilledIcon,\n    FileExcelIcon: TdFileExcelIcon,\n    FilePdfIcon: TdFilePdfIcon,\n    FileWordIcon: TdFileWordIcon,\n    FilePowerpointIcon: TdFilePowerpointIcon,\n    FileIcon: TdFileIcon,\n    VideoIcon: TdVideoIcon,\n  });\n\n  const drag = useDrag({ ...props.dragEvents, accept });\n\n  const uploadText = useMemo(() => {\n    if (uploading) return `${locale.progress.uploadingText}`;\n    return locale.triggerUploadText.normal;\n  }, [locale, uploading]);\n\n  const innerDragEvents = draggable\n    ? {\n        onDrop: drag.handleDrop,\n        onDragEnter: drag.handleDragenter,\n        onDragOver: drag.handleDragover,\n        onDragLeave: drag.handleDragleave,\n      }\n    : {};\n\n  const browseIconClick = ({\n    e,\n    index,\n    file,\n    viewFiles,\n  }: {\n    e: MouseEvent<HTMLDivElement>;\n    index: number;\n    file: UploadFile;\n    viewFiles: UploadFile[];\n  }) => {\n    setPreviewIndex(index);\n    setCurrentPreviewFile(viewFiles);\n    onPreview?.({ file, index, e });\n  };\n\n  const previewIndexChange = (index: number) => {\n    setPreviewIndex(index);\n  };\n\n  const closePreview = () => {\n    setCurrentPreviewFile([]);\n  };\n\n  const getStatusMap = () => {\n    const iconMap = {\n      success: <CheckCircleFilledIcon />,\n      fail: <ErrorCircleFilledIcon />,\n      progress: <TLoading />,\n      waiting: <TimeFilledIcon />,\n    };\n    const textMap = {\n      success: locale.progress?.successText,\n      fail: locale.progress?.failText,\n      progress: locale.progress?.uploadingText,\n      waiting: locale.progress?.waitingText,\n    };\n    return {\n      iconMap,\n      textMap,\n    };\n  };\n\n  const renderEmpty = () => (\n    <div className={`${uploadPrefix}__flow-empty`}>\n      {drag.dragActive ? locale.dragger.dragDropText : locale.dragger.clickAndDragText}\n    </div>\n  );\n\n  const renderImgItem = (file: UploadFile, index: number) => {\n    const { iconMap, textMap } = getStatusMap();\n    const fileName = props.abridgeName && file.name ? abridgeName(file.name, ...props.abridgeName) : file.name;\n    return (\n      <li className={`${uploadPrefix}__card-item`} key={file.name + index + file.percent + file.status}>\n        <div\n          className={classNames([\n            `${uploadPrefix}__card-content`,\n            { [`${classPrefix}-is-bordered`]: file.status !== 'waiting' },\n          ])}\n        >\n          {['fail', 'progress'].includes(file.status) && (\n            <div\n              className={classNames([\n                `${uploadPrefix}__card-status-wrap`,\n                `${uploadPrefix}__${props.theme}-${file.status}`,\n              ])}\n            >\n              {iconMap[file.status as 'fail' | 'progress']}\n              <p>{textMap[file.status as 'fail' | 'progress']}</p>\n            </div>\n          )}\n          {(['waiting', 'success'].includes(file.status) || (!file.status && file.url)) && (\n            <Image className={`${uploadPrefix}__card-image`} src={file.url || file.raw} error=\"\" loading=\"\" />\n          )}\n          <div className={`${uploadPrefix}__card-mask`}>\n            {(file.url || file.raw) && !['progress', 'fail'].includes(file.status) && (\n              <span className={`${uploadPrefix}__card-mask-item`}>\n                <BrowseIcon\n                  onClick={(event) => {\n                    const e = event.type ? event : event.e;\n                    browseIconClick({\n                      e,\n                      index,\n                      file,\n                      viewFiles: displayFiles,\n                    });\n                  }}\n                />\n                <span className={`${uploadPrefix}__card-mask-item-divider`}></span>\n              </span>\n            )}\n            {!disabled && (\n              <span\n                className={`${uploadPrefix}__card-mask-item ${uploadPrefix}__delete`}\n                onClick={(e) => props.onRemove({ e, index, file })}\n              >\n                <DeleteIcon />\n              </span>\n            )}\n          </div>\n        </div>\n        {props.showImageFileName && (\n          <p className={classNames([`${uploadPrefix}__card-name`, `${uploadPrefix}__flow-status`])}>\n            {['success', 'waiting'].includes(file.status) && iconMap[file.status]}\n            {fileName}\n          </p>\n        )}\n      </li>\n    );\n  };\n\n  const renderStatus = (file: UploadFile) => {\n    const { iconMap, textMap } = getStatusMap();\n    return (\n      <div className={`${uploadPrefix}__flow-status`}>\n        {iconMap[file.status]}\n        <span className={`${uploadPrefix}__${props.theme}-${file.status}`}>\n          {file.response?.error ? file.response.error || textMap[file.status] : textMap[file.status]}\n          {props.showUploadProgress && file.status === 'progress' ? ` ${file.percent || 0}%` : ''}\n        </span>\n      </div>\n    );\n  };\n\n  const renderNormalActionCol = (file: UploadFile, index: number) => (\n    <td>\n      <Link\n        theme=\"primary\"\n        hover=\"color\"\n        className={`${uploadPrefix}__delete`}\n        onClick={(e) => props.onRemove({ e, index, file })}\n      >\n        {locale?.triggerUploadText?.delete}\n      </Link>\n    </td>\n  );\n\n  function getFileThumbnailIcon(fileType: string) {\n    if (FILE_PDF_REGEXP.test(fileType)) {\n      return <FilePdfIcon />;\n    }\n    if (FILE_EXCEL_REGEXP.test(fileType)) {\n      return <FileExcelIcon />;\n    }\n    if (FILE_WORD_REGEXP.test(fileType)) {\n      return <FileWordIcon />;\n    }\n    if (FILE_PPT_REGEXP.test(fileType)) {\n      return <FilePowerpointIcon />;\n    }\n    if (VIDEO_REGEXP.test(fileType)) {\n      return <VideoIcon />;\n    }\n    return <FileIcon />;\n  }\n\n  function renderFileThumbnail(file: UploadFile) {\n    if (!file || (!file.raw && file.url)) return null;\n    const fileType = file.raw.type;\n    const className = `${uploadPrefix}__file-thumbnail`;\n    if (IMAGE_REGEXP.test(fileType) && (file.url || file.raw)) {\n      return (\n        <Image\n          className={className}\n          src={file.url || file.raw}\n          fit=\"scale-down\"\n          error=\"\"\n          loading=\"\"\n          onClick={(e) => {\n            e.preventDefault();\n            browseIconClick({\n              e,\n              index: 0,\n              file,\n              viewFiles: [file],\n            });\n          }}\n        />\n      );\n    }\n    return <div className={className}>{getFileThumbnailIcon(fileType)}</div>;\n  }\n\n  // batchUpload action col\n  const renderBatchActionCol = (index: number) =>\n    // 第一行数据才需要合并单元格\n    index === 0 ? (\n      <td rowSpan={displayFiles.length} className={`${uploadPrefix}__flow-table__batch-row`}>\n        <Link\n          theme=\"primary\"\n          hover=\"color\"\n          className={`${uploadPrefix}__delete`}\n          onClick={(e) => props.onRemove({ e, index: -1, file: undefined })}\n        >\n          {locale?.triggerUploadText?.delete}\n        </Link>\n      </td>\n    ) : null;\n\n  const renderFileList = () => {\n    if (props.fileListDisplay === null) return null;\n    if (props.fileListDisplay) {\n      return parseTNode(props.fileListDisplay, {\n        cancelUpload: props.cancelUpload,\n        uploadFiles: props.uploadFiles,\n        onPreview: props.onPreview,\n        onRemove: props.onRemove,\n        toUploadFiles: props.toUploadFiles,\n        sizeOverLimitMessage: props.sizeOverLimitMessage,\n        locale: props.locale,\n        files: displayFiles,\n        dragEvents: innerDragEvents,\n      });\n    }\n    return (\n      <table className={`${uploadPrefix}__flow-table`} {...innerDragEvents}>\n        <thead>\n          <tr>\n            <th>{locale.file?.fileNameText}</th>\n            <th>{locale.file?.fileSizeText}</th>\n            <th>{locale.file?.fileStatusText}</th>\n            {disabled ? null : <th>{locale.file?.fileOperationText}</th>}\n          </tr>\n        </thead>\n        <tbody>\n          {!displayFiles.length && (\n            <tr>\n              <td colSpan={4}>{renderEmpty()}</td>\n            </tr>\n          )}\n          {displayFiles.map((file, index) => {\n            // 合并操作出现条件为：当前为合并上传模式且列表内没有待上传文件\n            const showBatchUploadAction = props.isBatchUpload;\n            const deleteNode =\n              showBatchUploadAction && displayFiles.every((item) => item.status === 'success' || !item.status)\n                ? renderBatchActionCol(index)\n                : renderNormalActionCol(file, index);\n            const fileName = props.abridgeName?.length ? abridgeName(file.name, ...props.abridgeName) : file.name;\n            const thumbnailNode = showThumbnail ? (\n              <div className={`${uploadPrefix}__file-info`}>\n                {renderFileThumbnail(file)}\n                {fileName}\n              </div>\n            ) : (\n              fileName\n            );\n            const fileNameNode = file.url ? (\n              <Link href={file.url} target=\"_blank\" hover=\"color\">\n                {thumbnailNode}\n              </Link>\n            ) : (\n              thumbnailNode\n            );\n            return (\n              <tr key={file.name + index}>\n                <td className={`${uploadPrefix}__file-name`}>{fileNameNode}</td>\n                <td>{returnFileSize(file.size)}</td>\n                <td>{renderStatus(file)}</td>\n                {disabled ? null : deleteNode}\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    );\n  };\n\n  const renderImageList = () => {\n    if (props.fileListDisplay) {\n      return parseTNode(props.fileListDisplay, {\n        ...props,\n        files: displayFiles,\n        dragEvents: innerDragEvents,\n      });\n    }\n    return (\n      <ul className={`${uploadPrefix}__card clearfix`}>\n        {displayFiles.map((file, index) => renderImgItem(file, index))}\n      </ul>\n    );\n  };\n\n  const renderCancelUploadButton = () => {\n    if (cancelUploadButton === null) return null;\n    if (isFunction(cancelUploadButton)) return parseTNode(cancelUploadButton);\n    const cancelButtonProps = (isObject(cancelUploadButton) ? cancelUploadButton : undefined) as ButtonProps;\n    return (\n      <TButton\n        theme=\"default\"\n        disabled={disabled || !uploading}\n        className={`${uploadPrefix}__cancel`}\n        onClick={(e) => props.cancelUpload?.({ e })}\n        {...cancelButtonProps}\n      >\n        {locale?.cancelUploadText}\n      </TButton>\n    );\n  };\n\n  const renderUploadButton = () => {\n    if (uploadButton === null) return null;\n    if (isFunction(uploadButton)) return parseTNode(uploadButton);\n    const uploadButtonProps = (isObject(uploadButton) ? uploadButton : undefined) as ButtonProps;\n    return (\n      <TButton\n        disabled={disabled || uploading || !displayFiles.length}\n        theme=\"primary\"\n        loading={uploading}\n        className={`${uploadPrefix}__continue`}\n        onClick={() => props.uploadFiles?.()}\n        {...uploadButtonProps}\n      >\n        {uploadText}\n      </TButton>\n    );\n  };\n\n  const cardClassName = `${uploadPrefix}__flow-card-area`;\n  return (\n    <div className={`${uploadPrefix}__flow ${uploadPrefix}__flow-${props.theme}`}>\n      <div className={`${uploadPrefix}__flow-op`}>\n        {props.children}\n        {props.placeholder && (\n          <small className={`${uploadPrefix}__flow-placeholder ${uploadPrefix}__placeholder`}>\n            {props.placeholder}\n          </small>\n        )}\n      </div>\n\n      {props.theme === 'image-flow' && (\n        <div className={cardClassName} {...innerDragEvents}>\n          {displayFiles.length ? renderImageList() : renderEmpty()}\n        </div>\n      )}\n\n      {props.theme === 'file-flow' &&\n        (displayFiles.length ? (\n          renderFileList()\n        ) : (\n          <div className={cardClassName} {...innerDragEvents}>\n            {renderEmpty()}\n          </div>\n        ))}\n\n      {!props.autoUpload && (\n        <div className={`${uploadPrefix}__flow-bottom`}>\n          {renderCancelUploadButton()}\n\n          {renderUploadButton()}\n        </div>\n      )}\n\n      <ImageViewer\n        images={currentPreviewFile.map((t) => t.url || t.raw)}\n        visible={!!currentPreviewFile.length}\n        onClose={closePreview}\n        index={previewIndex}\n        onIndexChange={previewIndexChange}\n        {...props.imageViewerProps}\n      ></ImageViewer>\n    </div>\n  );\n};\n\nImageFlowList.displayName = 'ImageFlowList';\n\nexport default ImageFlowList;\n"],"names":["ImageFlowList","props","_props$draggable","draggable","accept","showThumbnail","cancelUploadButton","uploadButton","onPreview","locale","uploading","disabled","displayFiles","classPrefix","uploadPrefix","_useState","useState","_useState2","_slicedToArray","currentPreviewFile","setCurrentPreviewFile","_useState3","_useState4","previewIndex","setPreviewIndex","_useGlobalIcon","useGlobalIcon","BrowseIcon","TdBrowseIcon","DeleteIcon","TdDeleteIcon","CheckCircleFilledIcon","TdCheckCircleFilledIcon","ErrorCircleFilledIcon","TdErrorCircleFilledIcon","TimeFilledIcon","TdTimeFilledIcon","FileExcelIcon","TdFileExcelIcon","FilePdfIcon","TdFilePdfIcon","FileWordIcon","TdFileWordIcon","FilePowerpointIcon","TdFilePowerpointIcon","FileIcon","TdFileIcon","VideoIcon","TdVideoIcon","drag","useDrag","_objectSpread","dragEvents","uploadText","useMemo","concat","progress","uploadingText","triggerUploadText","normal","innerDragEvents","onDrop","handleDrop","onDragEnter","handleDragenter","onDragOver","handleDragover","onDragLeave","handleDragleave","browseIconClick","e","_ref","index","file","viewFiles","previewIndexChange","closePreview","getStatusMap","_locale$progress","_locale$progress2","_locale$progress3","_locale$progress4","iconMap","success","fail","TLoading","waiting","textMap","successText","failText","waitingText","renderEmpty","React","createElement","className","dragActive","dragger","dragDropText","clickAndDragText","renderImgItem","_getStatusMap","fileName","abridgeName","name","apply","_toConsumableArray","key","percent","status","classNames","_defineProperty","includes","theme","url","Image","src","raw","error","loading","onClick","event","type","onRemove","showImageFileName","renderStatus","_file$response","_getStatusMap2","response","showUploadProgress","renderNormalActionCol","_locale$triggerUpload","Link","hover","getFileThumbnailIcon","fileType","FILE_PDF_REGEXP","test","FILE_EXCEL_REGEXP","FILE_WORD_REGEXP","FILE_PPT_REGEXP","VIDEO_REGEXP","renderFileThumbnail","IMAGE_REGEXP","fit","preventDefault","renderBatchActionCol","_locale$triggerUpload2","rowSpan","length","renderFileList","_locale$file","_locale$file2","_locale$file3","_locale$file4","fileListDisplay","parseTNode","cancelUpload","uploadFiles","toUploadFiles","sizeOverLimitMessage","files","fileNameText","fileSizeText","fileStatusText","fileOperationText","colSpan","map","_props$abridgeName","showBatchUploadAction","isBatchUpload","deleteNode","every","item","thumbnailNode","fileNameNode","href","target","returnFileSize","size","renderImageList","renderCancelUploadButton","isFunction","cancelButtonProps","isObject","TButton","_props$cancelUpload","call","cancelUploadText","renderUploadButton","uploadButtonProps","_props$uploadFiles","cardClassName","children","placeholder","autoUpload","ImageViewer","images","t","visible","onClose","onIndexChange","imageViewerProps","displayName"],"mappings":"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"}