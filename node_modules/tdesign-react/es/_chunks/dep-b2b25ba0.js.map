{"version":3,"file":"dep-b2b25ba0.js","sources":["../../src/image-viewer/ImageViewerMini.tsx","../../src/image-viewer/ImageViewerModal.tsx"],"sourcesContent":["import React, { KeyboardEvent, MouseEvent } from 'react';\nimport { TNode } from '../common';\nimport Dialog from '../dialog';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModalItem, ImageViewerUtils } from './ImageViewerModal';\nimport useConfig from '../hooks/useConfig';\n\nimport type { TdImageViewerProps } from './type';\n\nexport interface ImageModalMiniProps {\n  visible: boolean;\n  title?: TNode;\n  draggable: boolean;\n  index: number;\n  scale: number;\n  mirror: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  rotateZ: number;\n  currentImage: ImageInfo;\n  prev: () => void;\n  next: () => void;\n  onMirror: () => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onReset: () => void;\n  onRotate: (red: number) => void;\n  zIndex: number;\n  errorText: string;\n  tipText: {\n    mirror: string;\n    rotate: string;\n    originsize: string;\n  };\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n}\n\nexport const ImageModalMiniContent: React.FC<ImageModalMiniProps> = (props) => {\n  const { classPrefix } = useConfig();\n\n  return (\n    <div className={`${classPrefix}-image-viewer-mini__content`}>\n      <ImageModalItem\n        rotateZ={props.rotateZ}\n        scale={props.scale}\n        mirror={props.mirror}\n        src={props.currentImage.mainImage}\n        preSrc={props.currentImage.thumbnail}\n        errorText={props.errorText}\n        imageReferrerpolicy={props.imageReferrerpolicy}\n      />\n    </div>\n  );\n};\n\nexport const ImageModalMini: React.FC<ImageModalMiniProps> = (props) => {\n  const {\n    visible,\n    title,\n    scale,\n    currentImage,\n    draggable,\n    onZoomOut,\n    onZoom,\n    onClose,\n    onRotate,\n    onMirror,\n    onReset,\n    tipText,\n  } = props;\n\n  const { classPrefix } = useConfig();\n\n  const footer = (\n    <div className={`${classPrefix}-image-viewer-mini__footer`}>\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n        tipText={tipText}\n      />\n    </div>\n  );\n\n  return (\n    <Dialog\n      className={`${classPrefix}-image-viewer__dialog`}\n      draggable={draggable}\n      visible={visible}\n      width=\"min(90vw, 1000px)\"\n      placement=\"center\"\n      mode=\"modeless\"\n      closeOnOverlayClick={false}\n      cancelBtn={null}\n      confirmBtn={null}\n      header={<span className={`${classPrefix}-image-viewer__dialog-title`}>{title}</span>}\n      footer={footer}\n      onClose={onClose}\n    >\n      <ImageModalMiniContent {...props} />\n    </Dialog>\n  );\n};\n","import React, { useState, useEffect, useCallback, MouseEvent, KeyboardEvent } from 'react';\nimport isArray from 'lodash/isArray';\nimport isFunction from 'lodash/isFunction';\nimport {\n  ImageErrorIcon as TdImageErrorIcon,\n  ImageIcon as TdImageIcon,\n  MirrorIcon as TdMirrorIcon,\n  RotationIcon as TdRotationIcon,\n} from 'tdesign-icons-react';\nimport classNames from 'classnames';\nimport useImagePreviewUrl from '../hooks/useImagePreviewUrl';\nimport { TooltipLite } from '../tooltip';\nimport useConfig from '../hooks/useConfig';\nimport { useLocaleReceiver } from '../locale/LocalReceiver';\nimport { TNode } from '../common';\nimport { downloadFile } from './utils';\nimport { ImageInfo, ImageScale, ImageViewerScale } from './type';\nimport { ImageModalMini } from './ImageViewerMini';\nimport useMirror from './hooks/useMirror';\nimport usePosition from './hooks/usePosition';\nimport useIndex from './hooks/useIndex';\nimport useRotate from './hooks/useRotate';\nimport useScale from './hooks/useScale';\nimport useGlobalIcon from '../hooks/useGlobalIcon';\nimport useIconMap from './hooks/useIconMap';\nimport Image from '../image';\n\nimport type { TdImageViewerProps } from './type';\nimport { ImageViewerProps } from './ImageViewer';\n\nconst ImageError = ({ errorText }: { errorText: string }) => {\n  const { classPrefix } = useConfig();\n  const { ImageErrorIcon } = useGlobalIcon({ ImageErrorIcon: TdImageErrorIcon });\n\n  return (\n    <div className={`${classPrefix}-image-viewer__img-error`}>\n      {/* 脱离文档流 */}\n      <div className={`${classPrefix}-image-viewer__img-error-content`}>\n        <ImageErrorIcon size=\"4em\" />\n        <div className={`${classPrefix}-image-viewer__img-error-text`}>{errorText}</div>\n      </div>\n    </div>\n  );\n};\n\ninterface ImageModalItemProps {\n  rotateZ: number;\n  scale: number;\n  mirror: number;\n  src: string | File;\n  preSrc?: string | File;\n  errorText: string;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n}\n\n// 单个弹窗实例\nexport const ImageModalItem: React.FC<ImageModalItemProps> = ({\n  rotateZ,\n  scale,\n  src,\n  preSrc,\n  mirror,\n  errorText,\n  imageReferrerpolicy,\n}) => {\n  const { classPrefix } = useConfig();\n\n  const [position, onMouseDown] = usePosition({ initPosition: [0, 0] });\n  const [loaded, setLoaded] = useState(false);\n  const [error, setError] = useState(false);\n\n  const imgStyle = {\n    transform: `rotateZ(${rotateZ}deg) scale(${scale})`,\n    display: !preSrc || loaded ? 'block' : 'none',\n  };\n  const preImgStyle = { transform: `rotateZ(${rotateZ}deg) scale(${scale})`, display: !loaded ? 'block' : 'none' };\n  const boxStyle = { transform: `translate(${position[0]}px, ${position[1]}px) scale(${mirror}, 1)` };\n\n  const { previewUrl: preSrcImagePreviewUrl } = useImagePreviewUrl(preSrc);\n  const { previewUrl: mainImagePreviewUrl } = useImagePreviewUrl(src);\n\n  useEffect(() => {\n    setError(false);\n  }, [preSrcImagePreviewUrl, mainImagePreviewUrl]);\n\n  return (\n    <div className={`${classPrefix}-image-viewer__modal-pic`}>\n      <div className={`${classPrefix}-image-viewer__modal-box`} style={boxStyle}>\n        {error && <ImageError errorText={errorText} />}\n        {!error && !!preSrc && (\n          <img\n            className={`${classPrefix}-image-viewer__modal-image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={preSrcImagePreviewUrl}\n            style={preImgStyle}\n            referrerPolicy={imageReferrerpolicy}\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n        {!error && (\n          <img\n            className={`${classPrefix}-image-viewer__modal-image`}\n            onMouseDown={(event) => {\n              event.stopPropagation();\n              onMouseDown(event);\n            }}\n            src={mainImagePreviewUrl}\n            onLoad={() => setLoaded(true)}\n            onError={() => setError(true)}\n            style={imgStyle}\n            alt=\"image\"\n            draggable=\"false\"\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\n// 旋转角度单位\nconst ROTATE_COUNT = 90;\n\ninterface ImageModalIconProps {\n  name?: string;\n  size?: string;\n  label?: string;\n  className?: string;\n  disabled?: boolean;\n  isRange?: boolean;\n  onClick?: (e: MouseEvent<HTMLElement>) => void;\n}\n\nconst ImageModalIcon = ({ onClick, className, disabled, isRange, name, label, size = '16px' }: ImageModalIconProps) => {\n  const { classPrefix } = useConfig();\n\n  const Icons = useIconMap();\n\n  const Icon = Icons[name];\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal-icon`, className, {\n        [`${classPrefix}-is-disabled`]: disabled,\n      })}\n      onClick={onClick}\n    >\n      {name && <Icon size={size} className={isRange ? 'is-range' : null} />}\n      {label && <span className={`${classPrefix}-image-viewer__modal-icon-label`}>{label}</span>}\n    </div>\n  );\n};\n\ninterface ImageViewerUtilsProps {\n  scale: number;\n  currentImage: ImageInfo;\n  onRotate: (ROTATE_COUNT: number) => void;\n  onZoom: () => void;\n  onZoomOut: () => void;\n  onMirror: () => void;\n  onReset: () => void;\n  tipText: {\n    mirror: string;\n    rotate: string;\n    originsize: string;\n  };\n}\n\nexport const ImageViewerUtils: React.FC<ImageViewerUtilsProps> = ({\n  onZoom,\n  scale,\n  onZoomOut,\n  currentImage,\n  onRotate,\n  onMirror,\n  onReset,\n  tipText,\n}) => {\n  const { classPrefix } = useConfig();\n  const { MirrorIcon, RotationIcon, ImageIcon } = useGlobalIcon({\n    MirrorIcon: TdMirrorIcon,\n    RotationIcon: TdRotationIcon,\n    ImageIcon: TdImageIcon,\n  });\n\n  return (\n    <div className={`${classPrefix}-image-viewer__utils`}>\n      <div className={`${classPrefix}-image-viewer__utils-content`}>\n        <TooltipLite className={`${classPrefix}-image-viewer__utils--tip`} content={tipText.mirror} showShadow={false}>\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <MirrorIcon size=\"medium\" onClick={onMirror} />\n          </div>\n        </TooltipLite>\n        <TooltipLite className={`${classPrefix}-image-viewer__utils--tip`} content={tipText.rotate} showShadow={false}>\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <RotationIcon size=\"medium\" onClick={() => onRotate(-ROTATE_COUNT)} />\n          </div>\n        </TooltipLite>\n        <ImageModalIcon size=\"medium\" name=\"zoom-out\" onClick={onZoomOut} />\n        <ImageModalIcon\n          className={`${classPrefix}-image-viewer__utils-scale`}\n          size=\"medium\"\n          label={`${scale * 100}%`}\n        />\n        <ImageModalIcon size=\"medium\" name=\"zoom-in\" onClick={onZoom} />\n        <TooltipLite\n          className={`${classPrefix}-image-viewer__utils--tip`}\n          content={tipText.originsize}\n          showShadow={false}\n        >\n          <div className={`${classPrefix}-image-viewer__modal-icon`}>\n            <ImageIcon\n              size=\"medium\"\n              name=\"image\"\n              onClick={() => {\n                onReset();\n              }}\n            />\n          </div>\n        </TooltipLite>\n        {currentImage.download && (\n          <ImageModalIcon\n            size=\"medium\"\n            name=\"download\"\n            onClick={() => {\n              downloadFile(currentImage.mainImage);\n            }}\n          />\n        )}\n      </div>\n      {/* <IconFont size=\"3em\" name=\"page-last\" onClick={() => onRotate(ROTATE_COUNT)} /> */}\n    </div>\n  );\n};\n\ntype ImageViewerHeaderProps = {\n  onImgClick: (index: number, ctx: { trigger: 'current' }) => void;\n  images: ImageInfo[];\n  currentIndex: number;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n};\n\nfunction OneImagePreview({\n  image,\n  classPrefix,\n  imageReferrerpolicy,\n}: {\n  image: ImageInfo;\n  classPrefix: string;\n  imageReferrerpolicy?: TdImageViewerProps['imageReferrerpolicy'];\n}) {\n  const { previewUrl } = useImagePreviewUrl(image.thumbnail || image.mainImage);\n  return (\n    <Image\n      alt=\"\"\n      error=\"\"\n      src={previewUrl}\n      className={`${classPrefix}-image-viewer__header-img`}\n      referrerpolicy={imageReferrerpolicy}\n    />\n  );\n}\n\nconst ImageViewerHeader = (props: ImageViewerHeaderProps) => {\n  const { classPrefix } = useConfig();\n  const { images, currentIndex, onImgClick, imageReferrerpolicy } = props;\n\n  const [isExpand, setIsExpand] = useState(true);\n\n  // 宽高比 16:9 按比例偏移\n  const transStyle = { transform: `translateX(calc(-${currentIndex} * (40px / 9 * 16 + 4px)))` };\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer__modal-header`, {\n        [`${classPrefix}-is-show`]: isExpand,\n      })}\n    >\n      <ImageModalIcon\n        name=\"chevron-down\"\n        className={`${classPrefix}-image-viewer__header-pre-bt`}\n        onClick={() => setIsExpand(!isExpand)}\n      />\n      <div className={`${classPrefix}-image-viewer__header-prev`}>\n        <div className={`${classPrefix}-image-viewer__header-trans`} style={transStyle}>\n          {images.map((image, index) => (\n            <div\n              key={index}\n              className={classNames(`${classPrefix}-image-viewer__header-box`, {\n                [`${classPrefix}-is-active`]: index === currentIndex,\n              })}\n              onClick={() => onImgClick(index, { trigger: 'current' })}\n            >\n              <OneImagePreview image={image} classPrefix={classPrefix} imageReferrerpolicy={imageReferrerpolicy} />\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\ninterface ImageModalProps {\n  title?: TNode;\n  visible: boolean;\n  closeOnOverlay: boolean;\n  showOverlay: boolean;\n  index: number;\n  defaultIndex?: number;\n  images: ImageInfo[];\n  onClose: (context: { trigger: 'close-btn' | 'overlay' | 'esc'; e: MouseEvent<HTMLElement> | KeyboardEvent }) => void;\n  onOpen: () => void;\n  imageScale: ImageScale;\n  viewerScale: ImageViewerScale;\n  zIndex: number;\n  isMini: boolean;\n  draggable: boolean;\n  closeBtn: boolean | TNode;\n  closeOnEscKeydown?: boolean;\n  onIndexChange?: (index: number, context: { trigger: 'prev' | 'next' }) => void;\n  imageReferrerpolicy?: ImageViewerProps['imageReferrerpolicy'];\n}\n\n// 弹窗基础组件\nexport const ImageModal: React.FC<ImageModalProps> = (props) => {\n  const {\n    closeOnOverlay,\n    showOverlay = true,\n    zIndex,\n    images,\n    isMini,\n    imageScale,\n    viewerScale,\n    closeBtn,\n    draggable,\n    onOpen,\n    onClose,\n    visible,\n    title,\n    closeOnEscKeydown,\n    imageReferrerpolicy,\n    ...resProps\n  } = props;\n  const { classPrefix } = useConfig();\n  const [locale, t] = useLocaleReceiver('imageViewer');\n\n  if (resProps.index === undefined) delete resProps.index;\n  const { index, next, prev, setIndex } = useIndex(resProps, images);\n  const { rotateZ, onResetRotate, onRotate } = useRotate();\n  const { scale, onZoom, onZoomOut, onResetScale } = useScale(imageScale);\n  const { mirror, onResetMirror, onMirror } = useMirror();\n\n  const onReset = useCallback(() => {\n    onResetScale();\n    onResetRotate();\n    onResetMirror();\n  }, [onResetMirror, onResetScale, onResetRotate]);\n\n  const onWheel = useCallback(\n    (e) => {\n      e.preventDefault();\n      e.deltaY < 0 ? onZoom() : onZoomOut();\n    },\n    [onZoom, onZoomOut],\n  );\n\n  useEffect(() => {\n    if (visible) {\n      document.addEventListener('wheel', onWheel, { passive: false });\n    } else {\n      document.removeEventListener('wheel', onWheel);\n    }\n    return () => {\n      document.removeEventListener('wheel', onWheel);\n    };\n  }, [visible, onWheel]);\n\n  const onKeyDown = useCallback(\n    (event) => {\n      switch (event.key) {\n        case 'ArrowRight':\n          return next();\n        case 'ArrowLeft':\n          return prev();\n        case 'ArrowUp':\n          return onZoom();\n        case 'ArrowDown':\n          return onZoomOut();\n        case 'Escape':\n          return closeOnEscKeydown && onClose?.({ trigger: 'esc', e: event });\n      }\n    },\n    [next, onClose, prev, onZoom, onZoomOut, closeOnEscKeydown],\n  );\n\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyDown);\n    return () => document.removeEventListener('keydown', onKeyDown);\n  }, [onKeyDown]);\n\n  useEffect(() => {\n    onReset();\n  }, [index, onReset]);\n\n  if (!isArray(images) || images.length < 1) return null;\n\n  const currentImage: ImageInfo = images[index];\n\n  const tipText = {\n    mirror: t(locale.mirrorTipText),\n    rotate: t(locale.rotateTipText),\n    originsize: t(locale.originalSizeTipText),\n  };\n  const errorText = t(locale.errorText);\n\n  if (isMini) {\n    return (\n      <ImageModalMini\n        visible={visible}\n        draggable={draggable}\n        index={index}\n        images={images}\n        imageScale={imageScale}\n        viewerScale={viewerScale}\n        rotateZ={rotateZ}\n        zIndex={zIndex}\n        currentImage={currentImage}\n        prev={prev}\n        next={next}\n        mirror={mirror}\n        scale={scale}\n        title={title}\n        onMirror={onMirror}\n        onZoom={onZoom}\n        onClose={onClose}\n        onZoomOut={onZoomOut}\n        onReset={onReset}\n        onRotate={onRotate}\n        errorText={errorText}\n        tipText={tipText}\n        imageReferrerpolicy={imageReferrerpolicy}\n      />\n    );\n  }\n\n  // boolean控制显示，tnode直接展示\n  let closeNode: TNode = closeBtn;\n  if (closeBtn === true) {\n    closeNode = (\n      <ImageModalIcon\n        name=\"close\"\n        size=\"24px\"\n        className={`${classPrefix}-image-viewer__modal-close-bt `}\n        onClick={(e: MouseEvent<HTMLElement>) => onClose && onClose({ trigger: 'close-btn', e })}\n      />\n    );\n  } else if (isFunction(closeBtn)) closeNode = closeBtn({ onClose, onOpen });\n\n  return (\n    <div\n      className={classNames(`${classPrefix}-image-viewer-preview-image`, {\n        [`${classPrefix}-is-hide`]: !visible,\n      })}\n      style={{ zIndex }}\n    >\n      {!!showOverlay && (\n        <div\n          className={`${classPrefix}-image-viewer__modal-mask`}\n          onClick={(e: MouseEvent<HTMLElement>) => closeOnOverlay && onClose?.({ trigger: 'overlay', e })}\n        />\n      )}\n      {images.length > 1 && (\n        <>\n          <ImageViewerHeader\n            images={images}\n            currentIndex={index}\n            onImgClick={setIndex}\n            imageReferrerpolicy={imageReferrerpolicy}\n          />\n          <div className={`${classPrefix}-image-viewer__modal-index`}>\n            <span>{title}</span>\n            {`${index + 1}/${images.length}`}\n          </div>\n          <ImageModalIcon\n            size=\"24px\"\n            name=\"chevron-left\"\n            className={`${classPrefix}-image-viewer__modal-prev-bt`}\n            onClick={prev}\n            disabled={index <= 0}\n          />\n          <ImageModalIcon\n            size=\"24px\"\n            name=\"chevron-right\"\n            className={`${classPrefix}-image-viewer__modal-next-bt`}\n            onClick={next}\n            disabled={index >= images.length - 1}\n          />\n        </>\n      )}\n      <ImageViewerUtils\n        onZoom={onZoom}\n        onZoomOut={onZoomOut}\n        scale={scale}\n        currentImage={currentImage}\n        onRotate={onRotate}\n        onMirror={onMirror}\n        onReset={onReset}\n        tipText={tipText}\n      />\n      {closeNode}\n      <ImageModalItem\n        scale={scale}\n        rotateZ={rotateZ}\n        mirror={mirror}\n        preSrc={currentImage.thumbnail}\n        src={currentImage.mainImage}\n        errorText={errorText}\n        imageReferrerpolicy={imageReferrerpolicy}\n      />\n    </div>\n  );\n};\n"],"names":["ImageModalMiniContent","props","_useConfig","useConfig","classPrefix","React","createElement","className","ImageModalItem","rotateZ","scale","mirror","src","currentImage","mainImage","preSrc","thumbnail","errorText","imageReferrerpolicy","ImageModalMini","visible","title","draggable","onZoomOut","onZoom","onClose","onRotate","onMirror","onReset","tipText","_useConfig2","footer","ImageViewerUtils","Dialog","width","placement","mode","closeOnOverlayClick","cancelBtn","confirmBtn","header","_objectSpread","ImageError","_ref","_useGlobalIcon","useGlobalIcon","ImageErrorIcon","TdImageErrorIcon","size","_ref2","_usePosition","usePosition","initPosition","_usePosition2","_slicedToArray","position","onMouseDown","_useState","useState","_useState2","loaded","setLoaded","_useState3","_useState4","error","setError","imgStyle","transform","concat","display","preImgStyle","boxStyle","_useImagePreviewUrl","useImagePreviewUrl","preSrcImagePreviewUrl","previewUrl","_useImagePreviewUrl2","mainImagePreviewUrl","useEffect","style","event","stopPropagation","referrerPolicy","alt","onLoad","onError","ROTATE_COUNT","ImageModalIcon","_ref3","onClick","disabled","isRange","name","label","_ref3$size","_useConfig3","Icons","useIconMap","Icon","classNames","_defineProperty","_ref4","_useConfig4","_useGlobalIcon2","MirrorIcon","TdMirrorIcon","RotationIcon","TdRotationIcon","ImageIcon","TdImageIcon","TooltipLite","content","showShadow","rotate","originsize","download","downloadFile","OneImagePreview","_ref5","image","_useImagePreviewUrl3","Image","referrerpolicy","ImageViewerHeader","_useConfig5","images","currentIndex","onImgClick","_useState5","_useState6","isExpand","setIsExpand","transStyle","map","index","key","trigger","ImageModal","closeOnOverlay","_props$showOverlay","showOverlay","zIndex","isMini","imageScale","viewerScale","closeBtn","onOpen","closeOnEscKeydown","resProps","_objectWithoutProperties","_excluded","_useConfig6","_useLocaleReceiver","useLocaleReceiver","_useLocaleReceiver2","locale","t","_useIndex","useIndex","next","prev","setIndex","_useRotate","useRotate","onResetRotate","_useScale","useScale","onResetScale","_useMirror","useMirror","onResetMirror","useCallback","onWheel","e","preventDefault","deltaY","document","addEventListener","passive","removeEventListener","onKeyDown","isArray","length","mirrorTipText","rotateTipText","originalSizeTipText","closeNode","isFunction"],"mappings":"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"}