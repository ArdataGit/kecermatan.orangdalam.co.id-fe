/**
 * tdesign v1.7.1
 * (c) 2024 tdesign
 * @license MIT
 */

import { useEffect } from 'react';
import { CHECKED_CODE_REG } from '../_common/js/common.js';
import { on, off } from '../_util/dom.js';
import 'raf';
import '../_chunks/dep-3f719063.js';
import '../_chunks/dep-08fc9b22.js';
import '../_chunks/dep-f3bac8f4.js';
import '../_chunks/dep-9d4210ce.js';
import '../_chunks/dep-17c2aa2b.js';
import '../_chunks/dep-dc4499f2.js';
import '../_util/easing.js';

function useKeyboard(radioGroupRef, setInnerValue) {
  var checkRadioInGroup = function checkRadioInGroup(e) {
    if (CHECKED_CODE_REG.test(e.key) || CHECKED_CODE_REG.test(e.code)) {
      var inputNode = e.target.querySelector("input");
      var data = (inputNode === null || inputNode === void 0 ? void 0 : inputNode.dataset) || {};
      if (inputNode.checked && data.allowUncheck) {
        setInnerValue(void 0, {
          e: e
        });
      } else {
        var value = !isNaN(Number(data.value)) ? Number(data.value) : data.value;
        value = typeof value === "string" && {
          "true": true,
          "false": false
        }[value] || value;
        value = typeof value === "string" && value[0] === "'" ? value.replace(/'/g, "") : value;
        setInnerValue(value, {
          e: e
        });
      }
    }
  };
  useEffect(function () {
    on(radioGroupRef.current, "keydown", checkRadioInGroup);
    return function () {
      off(radioGroupRef.current, "keydown", checkRadioInGroup);
    };
  }, []);
}

export { useKeyboard as default };
//# sourceMappingURL=useKeyboard.js.map
