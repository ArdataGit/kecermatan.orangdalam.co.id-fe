/**
 * tdesign v1.7.1
 * (c) 2024 tdesign
 * @license MIT
 */

import { _ as _slicedToArray } from '../_chunks/dep-be37289b.js';
import { useState, useEffect } from 'react';
import '../_common/js/log/index.js';
import { getFileUrlByFileRaw } from '../_common/js/upload/utils.js';
import log from '../_common/js/log/log.js';
import '../_chunks/dep-e0a22ada.js';

function useImagePreviewUrl(imgUrl) {
  var _useState = useState(""),
    _useState2 = _slicedToArray(_useState, 2),
    previewUrl = _useState2[0],
    setPreviewUrl = _useState2[1];
  useEffect(function () {
    if (!imgUrl) return;
    if (typeof imgUrl === "string") {
      setPreviewUrl(imgUrl);
      return;
    }
    getFileUrlByFileRaw(imgUrl).then(function (url) {
      setPreviewUrl(url);
    }, function () {
      log.error("Image", "Image.src is not a valid file");
    });
  }, [imgUrl]);
  return {
    previewUrl: previewUrl
  };
}

export { useImagePreviewUrl as default, useImagePreviewUrl };
//# sourceMappingURL=useImagePreviewUrl.js.map
