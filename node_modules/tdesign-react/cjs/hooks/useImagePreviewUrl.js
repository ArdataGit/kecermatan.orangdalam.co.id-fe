/**
 * tdesign v1.7.1
 * (c) 2024 tdesign
 * @license MIT
 */

'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var slicedToArray = require('../_chunks/dep-c86b4e2f.js');
var React = require('react');
var _common_js_log_log = require('../_common/js/log/log.js');
var _common_js_upload_utils = require('../_common/js/upload/utils.js');
require('../_chunks/dep-2e4b81d6.js');

function useImagePreviewUrl(imgUrl) {
  var _useState = React.useState(""),
    _useState2 = slicedToArray._slicedToArray(_useState, 2),
    previewUrl = _useState2[0],
    setPreviewUrl = _useState2[1];
  React.useEffect(function () {
    if (!imgUrl) return;
    if (typeof imgUrl === "string") {
      setPreviewUrl(imgUrl);
      return;
    }
    _common_js_upload_utils.getFileUrlByFileRaw(imgUrl).then(function (url) {
      setPreviewUrl(url);
    }, function () {
      _common_js_log_log["default"].error("Image", "Image.src is not a valid file");
    });
  }, [imgUrl]);
  return {
    previewUrl: previewUrl
  };
}

exports["default"] = useImagePreviewUrl;
exports.useImagePreviewUrl = useImagePreviewUrl;
//# sourceMappingURL=useImagePreviewUrl.js.map
