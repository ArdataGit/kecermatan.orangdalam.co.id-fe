{"version":3,"file":"Row.js","sources":["../../src/descriptions/Row.tsx"],"sourcesContent":["import React, { useContext } from 'react';\nimport { TdDescriptionItemProps } from './type';\nimport { LayoutEnum } from '../common';\nimport useConfig from '../hooks/useConfig';\nimport { DescriptionsContext } from './DescriptionsContext';\n\nexport type RowProps = { row: TdDescriptionItemProps[] };\n\nconst Row: React.FC<RowProps> = (props) => {\n  const { row } = props;\n\n  const { classPrefix } = useConfig();\n  const descriptionsContext = useContext(DescriptionsContext);\n\n  const COMPONENT_NAME = `${classPrefix}-descriptions`;\n\n  // label\n  const label = (node: TdDescriptionItemProps, layout: LayoutEnum = LayoutEnum.HORIZONTAL, rowKey?: string) => {\n    const { span } = node;\n    const labelSpan = layout === LayoutEnum.HORIZONTAL ? 1 : span;\n    return (\n      <td\n        key={rowKey}\n        colSpan={labelSpan}\n        className={`${COMPONENT_NAME}__label`}\n        style={descriptionsContext.labelStyle}\n      >\n        {node.label}\n        {descriptionsContext.colon && ':'}\n      </td>\n    );\n  };\n\n  // content\n  const content = (node: TdDescriptionItemProps, layout: LayoutEnum = LayoutEnum.HORIZONTAL, rowKey?: string) => {\n    const { span } = node;\n    const contentSpan = span > 1 && layout === LayoutEnum.HORIZONTAL ? span * 2 - 1 : span;\n    return (\n      <td\n        key={rowKey}\n        colSpan={contentSpan}\n        className={`${COMPONENT_NAME}__content`}\n        style={descriptionsContext.contentStyle}\n      >\n        {node.content}\n      </td>\n    );\n  };\n\n  // 总共有四种布局\n  // Layout horizontal vertical\n  // itemLayout horizontal vertical\n\n  const hh = () => (\n    <tr>\n      {row.map((node, i) => (\n        <React.Fragment key={i}>\n          {label(node)}\n          {content(node)}\n        </React.Fragment>\n      ))}\n    </tr>\n  );\n\n  const hv = () => (\n    <>\n      <tr>{row.map((node, i) => label(node, LayoutEnum.VERTICAL, `top_${i}`))}</tr>\n      <tr>{row.map((node, i) => content(node, LayoutEnum.VERTICAL, `bottom_${i}`))}</tr>\n    </>\n  );\n\n  const vh = () => (\n    <>\n      {row.map((node, i) => (\n        <tr key={i}>\n          {label(node)}\n          {content(node)}\n        </tr>\n      ))}\n    </>\n  );\n\n  const vv = () => (\n    <>\n      {row.map((node, i) => (\n        <React.Fragment key={i}>\n          <tr>{label(node)}</tr>\n          <tr>{content(node)}</tr>\n        </React.Fragment>\n      ))}\n    </>\n  );\n\n  if (descriptionsContext.layout === LayoutEnum.HORIZONTAL) {\n    if (descriptionsContext.itemLayout === LayoutEnum.HORIZONTAL) {\n      return hh();\n    }\n    return hv();\n  }\n  if (descriptionsContext.itemLayout === LayoutEnum.HORIZONTAL) {\n    return vh();\n  }\n  return vv();\n};\n\nRow.displayName = 'DescriptionsRow';\n\nexport default Row;\n"],"names":["Row","props","row","_useConfig","useConfig","classPrefix","descriptionsContext","useContext","DescriptionsContext","COMPONENT_NAME","label","node","layout","arguments","length","undefined","LayoutEnum","HORIZONTAL","rowKey","span","labelSpan","React","createElement","key","colSpan","className","style","labelStyle","colon","content","contentSpan","contentStyle","hh","map","i","Fragment","hv","VERTICAL","concat","vh","vv","itemLayout","displayName"],"mappings":"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"}