{"version":3,"file":"OptionGroup.js","sources":["../../../src/select/base/OptionGroup.tsx"],"sourcesContent":["import React, { Children, isValidElement, cloneElement } from 'react';\nimport classNames from 'classnames';\nimport useConfig from '../../hooks/useConfig';\n\nimport { TdOptionGroupProps, SelectValue } from '../type';\nimport { optionGroupDefaultProps } from '../defaultProps';\nimport useDefaultProps from '../../hooks/useDefaultProps';\n\nexport interface SelectGOptionGroupProps extends TdOptionGroupProps {\n  selectedValue?: SelectValue;\n  onSelect?: (\n    value: string | number,\n    context: { label?: React.ReactNode; selected?: boolean; event: React.MouseEvent },\n  ) => void;\n  divider?: boolean;\n  children?: React.ReactNode;\n  multiple?: boolean;\n}\n\nconst OptionGroup: React.FC<SelectGOptionGroupProps> = (props) => {\n  const { children, label, selectedValue, onSelect, divider, multiple } = useDefaultProps<SelectGOptionGroupProps>(\n    props,\n    optionGroupDefaultProps,\n  );\n\n  const { classPrefix } = useConfig();\n\n  const childrenWithProps = Children.map(children, (child) => {\n    if (isValidElement<SelectGOptionGroupProps>(child)) {\n      const addedProps: SelectGOptionGroupProps = { selectedValue, onSelect, multiple };\n      return cloneElement<SelectGOptionGroupProps>(child, { ...addedProps });\n    }\n    return child;\n  });\n\n  return (\n    <li\n      className={classNames(`${classPrefix}-select-option-group`, {\n        [`${classPrefix}-select-option-group__divider`]: divider,\n      })}\n    >\n      <ul className={`${classPrefix}-select-option-group__header`}>{label}</ul>\n      <ul className={`${classPrefix}-select__list`}>{childrenWithProps}</ul>\n    </li>\n  );\n  return;\n};\n\nexport default OptionGroup;\n"],"names":["OptionGroup","props","_useDefaultProps","useDefaultProps","optionGroupDefaultProps","children","label","selectedValue","onSelect","divider","multiple","_useConfig","useConfig","classPrefix","childrenWithProps","Children","map","child","isValidElement","addedProps","cloneElement","_objectSpread","React","createElement","className","classNames","concat","_defineProperty"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmBA,IAAMA,WAAA,GAAiD,SAAjDA,WAAAA,CAAkDC,KAAU,EAAA;AAChE,EAAA,IAAAC,gBAAA,GAAwEC,gCAAA,CACtEF,KAAA,EACAG,2CACF,CAAA;IAHQC,QAAU,GAAAH,gBAAA,CAAVG,QAAU;IAAAC,KAAA,GAAAJ,gBAAA,CAAAI,KAAA;IAAOC,iCAAAA;IAAeC,QAAU,GAAAN,gBAAA,CAAVM,QAAU;IAAAC,OAAA,GAAAP,gBAAA,CAAAO,OAAA;IAASC,4BAAAA;AAKrD,EAAA,IAAAC,UAAA,GAAkBC,0BAAU,EAAA;IAA1BC,WAAY,GAAAF,UAAA,CAAZE,WAAY,CAAA;EAEpB,IAAMC,iBAAoB,GAAAC,cAAA,CAASC,GAAI,CAAAX,QAAA,EAAU,UAACY,KAAU,EAAA;AACtD,IAAA,kBAAAC,oBAAA,CAAwCD,KAAK,CAAG,EAAA;AAClD,MAAA,IAAME,UAAsC,GAAA;AAAEZ,QAAAA,aAAe,EAAfA,aAAe;AAAAC,QAAAA,QAAA,EAAAA,QAAA;AAAUE,QAAAA,QAAS,EAATA,QAAAA;OAAS,CAAA;MAChF,oBAAOU,kBAAsC,CAAAH,KAAA,EAAAI,aAAA,CAAYF,EAAAA,EAAAA,WAAY,CAAA,CAAA;AACvE,KAAA;AACO,IAAA,OAAAF,KAAA,CAAA;AACT,GAAC,CAAA,CAAA;AAED,EAAA,sBACGK,yBAAA,CAAAC,aAAA,CAAA,IAAA,EAAA;AACCC,IAAAA,SAAA,EAAWC,8BAAW,CAAAC,EAAAA,CAAAA,MAAA,CAAGb,WAAmC,EAAA,sBAAA,CAAA,EAAAc,8BAAA,CAAA,EAAA,EAAA,EAAA,CAAAD,MAAA,CACtDb,WAA6C,EAAA,+BAAA,CAAA,EAAAJ,OAAA,CAClD,CAAA;AAAA,GAAA,iBAEAa,yBAAA,CAAAC,aAAA,CAAA,IAAA,EAAA;IAAGC,qBAAcX,WAAA,EAAA,8BAAA,CAAA;GAA4C,EAAAP,KAAM,kBACnEgB,yBAAA,CAAAC,aAAA,CAAA,IAAA,EAAA;IAAGC,qBAAcX,WAAA,EAAA,eAAA,CAAA;GAAA,EAA6BC,iBAAkB,CACnE,CAAA,CAAA;AAGJ;;;;"}