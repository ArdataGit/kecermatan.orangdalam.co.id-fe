{"version":3,"file":"ref.js","sources":["../../../src/popup/utils/ref.ts"],"sourcesContent":["import { isMemo } from 'react-is';\n\n// 判断是否支持 ref 透传\nexport function supportRef(nodeOrComponent: any): boolean {\n  const type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render) {\n    return false;\n  }\n\n  return true;\n}\n\n// 获取 ref 中的 dom 元素\nexport function getRefDom(domRef: React.RefObject<any>) {\n  if (domRef.current && typeof domRef.current === 'object' && 'currentElement' in domRef.current) {\n    return domRef.current.currentElement;\n  }\n  return domRef.current;\n}\n"],"names":["supportRef","nodeOrComponent","_type$prototype","_nodeOrComponent$prot","type","isMemo","prototype","render","getRefDom","domRef","current","_typeof","currentElement"],"mappings":";;;;;;;;;;;;;AAGO,SAASA,WAAWC,eAA+B,EAAA;EAAA,IAAAC,eAAA,EAAAC,qBAAA,CAAA;AACxD,EAAA,IAAMC,OAAOC,iBAAO,CAAAJ,eAAe,IAAIA,eAAgB,CAAAG,IAAA,CAAKA,OAAOH,eAAgB,CAAAG,IAAA,CAAA;AAGnF,EAAA,IAAI,OAAOA,IAAS,KAAA,UAAA,IAAc,GAAAF,eAAA,GAACE,IAAA,CAAKE,qDAALJ,eAAA,CAAgBK,MAAQ,CAAA,EAAA;AAClD,IAAA,OAAA,KAAA,CAAA;AACT,GAAA;AAGA,EAAA,IAAI,OAAON,eAAoB,KAAA,UAAA,IAAc,GAAAE,qBAAA,GAACF,eAAA,CAAgBK,2DAAhBH,qBAAA,CAA2BI,MAAQ,CAAA,EAAA;AACxE,IAAA,OAAA,KAAA,CAAA;AACT,GAAA;AAEO,EAAA,OAAA,IAAA,CAAA;AACT,CAAA;AAGO,SAASC,UAAUC,MAA8B,EAAA;AAClD,EAAA,IAAAA,MAAA,CAAOC,WAAWC,eAAA,CAAOF,MAAA,CAAOC,aAAY,QAAY,IAAA,gBAAA,IAAoBD,OAAOC,OAAS,EAAA;AAC9F,IAAA,OAAOD,OAAOC,OAAQ,CAAAE,cAAA,CAAA;AACxB,GAAA;EACA,OAAOH,MAAO,CAAAC,OAAA,CAAA;AAChB;;;;;"}