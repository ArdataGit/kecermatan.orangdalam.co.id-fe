{"version":3,"file":"PanelContent.js","sources":["../../../src/date-picker/panel/PanelContent.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\nimport DateHeader from '../base/Header';\nimport DateTable from '../base/Table';\nimport { TimePickerPanel } from '../../time-picker';\nimport type { SinglePanelProps } from './SinglePanel';\nimport type { RangePanelProps } from './RangePanel';\nimport useConfig from '../../hooks/useConfig';\nimport { getDefaultFormat } from '../../_common/js/date-picker/format';\n\nexport interface PanelContentProps {\n  partial?: 'start' | 'end';\n  value: SinglePanelProps['value'] | RangePanelProps['value'];\n  year: SinglePanelProps['year'];\n  month: SinglePanelProps['month'];\n  mode: SinglePanelProps['mode'];\n  format: SinglePanelProps['format'];\n  enableTimePicker: SinglePanelProps['enableTimePicker'];\n  timePickerProps: SinglePanelProps['timePickerProps'];\n  firstDayOfWeek: SinglePanelProps['firstDayOfWeek'];\n  time: SinglePanelProps['time'];\n\n  popupVisible?: boolean;\n  tableData: any[];\n  onMonthChange: SinglePanelProps['onMonthChange'] | RangePanelProps['onMonthChange'];\n  onYearChange: SinglePanelProps['onYearChange'] | RangePanelProps['onYearChange'];\n  onJumperClick: SinglePanelProps['onJumperClick'] | RangePanelProps['onJumperClick'];\n  onCellClick: SinglePanelProps['onCellClick'] | RangePanelProps['onCellClick'];\n  onCellMouseEnter: SinglePanelProps['onCellMouseEnter'] | RangePanelProps['onCellMouseEnter'];\n  onCellMouseLeave: SinglePanelProps['onCellMouseLeave'] | RangePanelProps['onCellMouseLeave'];\n  onTimePickerChange: SinglePanelProps['onTimePickerChange'] | RangePanelProps['onTimePickerChange'];\n}\n\nexport default function PanelContent(props: PanelContentProps) {\n  const { classPrefix } = useConfig();\n  const panelName = `${classPrefix}-date-picker__panel`;\n\n  const {\n    value,\n    year,\n    month,\n    mode,\n    format,\n    enableTimePicker,\n    timePickerProps,\n    firstDayOfWeek,\n\n    partial = 'start',\n    time,\n    tableData,\n    onMonthChange,\n    onYearChange,\n    onJumperClick,\n    onCellClick,\n    onCellMouseEnter,\n    onCellMouseLeave,\n    onTimePickerChange,\n  } = props;\n\n  const { timeFormat } = getDefaultFormat({ mode, format, enableTimePicker });\n\n  const showTimePicker = enableTimePicker && mode === 'date';\n\n  const defaultTime = '00:00:00';\n\n  const onMonthChangeInner = useCallback(\n    (val: number) => {\n      onMonthChange?.(val, { partial });\n    },\n    // eslint-disable-next-line\n    [partial],\n  );\n\n  const onYearChangeInner = useCallback(\n    (val: number) => {\n      onYearChange?.(val, { partial });\n    },\n    // eslint-disable-next-line\n    [partial],\n  );\n\n  const onJumperClickInner = useCallback(\n    ({ trigger }) => {\n      onJumperClick?.({ trigger, partial });\n    },\n    [partial, onJumperClick],\n  );\n\n  return (\n    <div className={`${panelName}-content`}>\n      <div className={`${panelName}-${mode}`}>\n        <DateHeader\n          mode={mode}\n          year={year}\n          month={month}\n          onMonthChange={onMonthChangeInner}\n          onYearChange={onYearChangeInner}\n          onJumperClick={onJumperClickInner}\n        />\n\n        <DateTable\n          mode={mode}\n          data={tableData}\n          value={value}\n          time={time}\n          format={format}\n          firstDayOfWeek={firstDayOfWeek}\n          onCellClick={(date: Date, { e }) => onCellClick?.(date, { e, partial })}\n          onCellMouseEnter={(date: Date) => onCellMouseEnter?.(date, { partial })}\n          onCellMouseLeave={onCellMouseLeave}\n        />\n      </div>\n\n      {showTimePicker && (\n        <div className={`${panelName}-time`}>\n          <div className={`${panelName}-time-viewer`}>{time || defaultTime}</div>\n          <TimePickerPanel\n            key={partial}\n            format={timeFormat}\n            value={time || defaultTime}\n            onChange={onTimePickerChange}\n            isShowPanel={props.popupVisible}\n            {...timePickerProps}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["PanelContent","props","_useConfig","useConfig","classPrefix","panelName","value","year","month","mode","format","enableTimePicker","timePickerProps","firstDayOfWeek","_props$partial","partial","time","tableData","onMonthChange","onYearChange","onJumperClick","onCellClick","onCellMouseEnter","onCellMouseLeave","onTimePickerChange","_getDefaultFormat","getDefaultFormat","timeFormat","showTimePicker","defaultTime","onMonthChangeInner","useCallback","val","onYearChangeInner","onJumperClickInner","_ref","trigger","React","createElement","className","concat","DateHeader","DateTable","data","date","_ref2","e","TimePickerPanel","_objectSpread","key","onChange","isShowPanel","popupVisible"],"mappings":"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"}